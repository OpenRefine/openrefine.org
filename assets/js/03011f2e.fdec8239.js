"use strict";(self.webpackChunkOpenRefine_Documentation=self.webpackChunkOpenRefine_Documentation||[]).push([[8498],{23160:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var i=t(64861),o=t(69018);const s={id:"version-release-process",title:"How to do an OpenRefine version release",sidebar_label:"How to do an OpenRefine version release"},r="Apple code signing",a={id:"technical-reference/version-release-process",title:"How to do an OpenRefine version release",description:"When releasing a new version of Refine, the following steps should be followed:",source:"@site/docs/technical-reference/version-release-process.md",sourceDirName:"technical-reference",slug:"/technical-reference/version-release-process",permalink:"/docs/technical-reference/version-release-process",draft:!1,unlisted:!1,editUrl:"https://github.com/OpenRefine/openrefine.github.com/edit/master/docs/technical-reference/version-release-process.md",tags:[],version:"current",lastUpdatedBy:"Antonin Delpeuch",lastUpdatedAt:1697471001e3,frontMatter:{id:"version-release-process",title:"How to do an OpenRefine version release",sidebar_label:"How to do an OpenRefine version release"},sidebar:"docs",previous:{title:"Maintainer guidelines",permalink:"/docs/technical-reference/maintainer-guidelines"},next:{title:"Maintaining OpenRefine's Homebrew cask",permalink:"/docs/technical-reference/homebrew-cask-process"}},c={},l=[];function h(e){const n={a:"a",code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"When releasing a new version of Refine, the following steps should be followed:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Make sure the ",(0,i.jsx)(n.code,{children:"master"})," branch is stable and nothing has broken since the previous version. We need developers to stabilize the trunk and some volunteers to try out ",(0,i.jsx)(n.code,{children:"master"})," for a few days."]}),"\n",(0,i.jsxs)(n.li,{children:["Change the version number in ",(0,i.jsx)(n.a,{href:"http://github.com/OpenRefine/OpenRefine/blob/master/main/src/com/google/refine/RefineServlet.java#L62",children:"RefineServlet.java"})," and in the POM files using ",(0,i.jsx)(n.code,{children:"mvn versions:set -DnewVersion=2.6-beta -DgenerateBackupPoms=false"}),". Commit the changes."]}),"\n",(0,i.jsx)(n.li,{children:"Compose the list of changes in the code and on the wiki. If the issues have been updated with the appropriate milestone, the Github issue tracker should be able to provide a good starting point for this."}),"\n",(0,i.jsx)(n.li,{children:"Tag the release candidate in git and push the tag to Github. For example:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'git tag -a -m "Second beta" 2.6-beta.2\n    git push origin --tags\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsx)(n.li,{children:"Create a GitHub release based on that tag, with a summary of the changes as description of the release. Publishing the GitHub release will trigger the generation of the packaged artifacts, which will be added to the release on GitHub."}),"\n",(0,i.jsxs)(n.li,{children:["Once the artifacts are ready, update the ",(0,i.jsx)(n.a,{href:"https://github.com/OpenRefine/openrefine.org/blob/master/releases.json",children:(0,i.jsx)(n.code,{children:"releases.json"})})," file in the openrefine.org repository to reflect this new version. Verify that the correct versions are shown at ",(0,i.jsx)(n.a,{href:"http://openrefine.org/download",children:"http://openrefine.org/download"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/OpenRefine/OpenRefine/wiki/Maintaining-OpenRefine's-Homebrew-Cask",children:"Update the OpenRefine Homebrew cask"})," or coordinate an update via the ",(0,i.jsx)(n.a,{href:"https://forum.openrefine.org/c/dev/8",children:"developer forum"})]}),"\n",(0,i.jsxs)(n.li,{children:["Announce on the ",(0,i.jsx)(n.a,{href:"https://forum.openrefine.org/c/news/13",children:"announcements section of the OpenRefine forum"}),", or even on the ",(0,i.jsx)(n.a,{href:"https://openrefine.org/blog",children:"blog"})," if this is a major release (the blog is imported automatically into the announcements category\nof the forum)"]}),"\n",(0,i.jsxs)(n.li,{children:["Update the version in master to the next version number with ",(0,i.jsx)(n.code,{children:"-SNAPSHOT"})," (such as ",(0,i.jsx)(n.code,{children:"4.3-SNAPSHOT"}),"), in the same places as in step 2."]}),"\n"]}),"\n",(0,i.jsx)(n.h1,{id:"apple-code-signing",children:"Apple code signing"}),"\n",(0,i.jsx)(n.p,{children:"We have code signing certificates for our iOS distributions. Those are available in our build environment and you should not need to import them to your own machine to make a release (since you are not building the release yourself). But if the signing process fails, it can be useful to import the certificates on your own machine to debug the process. To do so:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Request ",(0,i.jsx)(n.a,{href:"mailto:advisory.committee@openrefine.org",children:"advisory.committee@openrefine.org"})," to be added to the Apple team: you need to provide the email address that corresponds to your AppleID account;"]}),"\n",(0,i.jsxs)(n.li,{children:["Create a certificate signing request from your Mac: ",(0,i.jsx)(n.a,{href:"https://help.apple.com/developer-account/#/devbfa00fef7",children:"https://help.apple.com/developer-account/#/devbfa00fef7"})]}),"\n",(0,i.jsxs)(n.li,{children:["Go to ",(0,i.jsx)(n.a,{href:"https://developer.apple.com/account/resources/certificates/add",children:"https://developer.apple.com/account/resources/certificates/add"}),' and select "Apple Distribution" as certificate type']}),"\n",(0,i.jsx)(n.li,{children:"Upload the certificate signing request in the form"}),"\n",(0,i.jsx)(n.li,{children:"Download the generated certificate"}),"\n",(0,i.jsx)(n.li,{children:'Import this certificate in the "Keychain Access" app on your mac'}),"\n",(0,i.jsxs)(n.li,{children:["The signing workflow can be found in ",(0,i.jsx)(n.code,{children:".github/workflows/snapshot_release.yml"})]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},69018:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>r});var i=t(47768);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);