"use strict";(self.webpackChunkOpenRefine_Documentation=self.webpackChunkOpenRefine_Documentation||[]).push([[7325],{54501:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var t=n(64861),s=n(69018);const a={id:"reconciling",title:"Reconciling with Wikibase",sidebar_label:"Reconciling with Wikibase"},r=void 0,o={id:"manual/wikibase/reconciling",title:"Reconciling with Wikibase",description:"The Wikidata reconciliation service for OpenRefine supports:",source:"@site/docs/manual/wikibase/reconciling.md",sourceDirName:"manual/wikibase",slug:"/manual/wikibase/reconciling",permalink:"/docs/manual/wikibase/reconciling",draft:!1,unlisted:!1,editUrl:"https://github.com/OpenRefine/openrefine.github.com/edit/master/docs/manual/wikibase/reconciling.md",tags:[],version:"current",lastUpdatedBy:"loraxian",lastUpdatedAt:1701933567e3,frontMatter:{id:"reconciling",title:"Reconciling with Wikibase",sidebar_label:"Reconciling with Wikibase"},sidebar:"docs",previous:{title:"Connecting to Wikibase",permalink:"/docs/manual/wikibase/configuration"},next:{title:"Schema alignment",permalink:"/docs/manual/wikibase/schema-alignment"}},c={},l=[{value:"Language settings",id:"language-settings",level:2},{value:"Restricting matches by type",id:"restricting-matches-by-type",level:2},{value:"Reconciling via unique identifiers",id:"reconciling-via-unique-identifiers",level:2},{value:"Property paths, special properties, and subfields",id:"property-paths-special-properties-and-subfields",level:2}];function d(e){const i={a:"a",code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.p,{children:["The Wikidata ",(0,t.jsx)(i.a,{href:"reconciling",children:"reconciliation service"})," for OpenRefine ",(0,t.jsx)(i.a,{href:"https://reconciliation-api.github.io/testbench/",children:"supports"}),":"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"A large number of potential types to reconcile against"}),"\n",(0,t.jsx)(i.li,{children:"Previewing and viewing entities"}),"\n",(0,t.jsx)(i.li,{children:"Suggesting entities, types, and properties"}),"\n",(0,t.jsx)(i.li,{children:"Augmenting your project with more information pulled from Wikidata."}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["You can find documentation and further resources on the reconciliation API ",(0,t.jsx)(i.a,{href:"https://wikidata.reconci.link/",children:"here"}),"."]}),"\n",(0,t.jsx)(i.p,{children:"For the most part, Wikidata reconciliation behaves the same way other reconciliation services do, but there are a few processes and features specific to Wikidata."}),"\n",(0,t.jsx)(i.h2,{id:"language-settings",children:"Language settings"}),"\n",(0,t.jsxs)(i.p,{children:["You can install a version of the Wikidata reconciliation service that uses your language. First, you need the language code: this is the ",(0,t.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/List_of_Wikipedias",children:"two-letter code found on this list"}),", or in the domain name of the desired Wikipedia/Wikidata (for instance, \u201cfr\u201d if your Wikipedia is ",(0,t.jsx)(i.a,{href:"https://fr.wikipedia.org/wiki/",children:"https://fr.wikipedia.org/wiki/"}),")."]}),"\n",(0,t.jsxs)(i.p,{children:["Then, open the reconciliation window (under ",(0,t.jsx)("span",{class:"menuItems",children:"Reconcile"})," \u2192 ",(0,t.jsx)("span",{class:"menuItems",children:"Start reconciling..."}),") and click ",(0,t.jsx)("span",{class:"menuItems",children:"Add Standard Service"}),". The URL to enter is ",(0,t.jsx)(i.code,{children:"https://wikidata.reconci.link/fr/api"}),", where \u201cfr\u201d is your desired language code."]}),"\n",(0,t.jsx)(i.p,{children:"When reconciling using this interface, items and properties will be displayed in your chosen language if the label is available. The matching score of the reconciliation is not influenced by your choice of language for the service: items are matched by considering all labels and returning the best possible match. The language of your dataset is also irrelevant to your choice of language for the reconciliation service; it simply determines which language labels to return based on the entity chosen."}),"\n",(0,t.jsx)(i.h2,{id:"restricting-matches-by-type",children:"Restricting matches by type"}),"\n",(0,t.jsxs)(i.p,{children:["In Wikidata, types are items themselves. For instance, the ",(0,t.jsx)(i.a,{href:"https://www.wikidata.org/wiki/Q1377",children:"university of Ljubljana (Q1377)"})," has the type ",(0,t.jsx)(i.a,{href:"https://www.wikidata.org/wiki/Q875538",children:"public university (Q875538)"}),", using the ",(0,t.jsx)(i.a,{href:"https://www.wikidata.org/wiki/Property:P31",children:"instance of (P31)"})," property. Types can be subclasses of other types, using the ",(0,t.jsx)(i.a,{href:"https://www.wikidata.org/wiki/Property:P279",children:"subclass of (P279)"})," property. For instance, ",(0,t.jsx)(i.a,{href:"https://www.wikidata.org/wiki/Q875538",children:"public university (Q875538)"})," is a subclass of ",(0,t.jsx)(i.a,{href:"https://www.wikidata.org/wiki/Q3918",children:"university (Q3918)"}),". You can visualize these structures with the ",(0,t.jsx)(i.a,{href:"https://angryloki.github.io/wikidata-graph-builder/",children:"Wikidata Graph Builder"}),"."]}),"\n",(0,t.jsxs)(i.p,{children:["When you select or enter a type for reconciliation, OpenRefine will include that type and all of its subtypes. For instance, if you select ",(0,t.jsx)(i.a,{href:"https://www.wikidata.org/wiki/Q3918",children:"university (Q3918)"}),", then ",(0,t.jsx)(i.a,{href:"https://www.wikidata.org/wiki/Q1377",children:"university of Ljubljana (Q1377)"})," will be a possible match, though that item isn't directly linked to Q3918 - because it is directly linked to Q875538, the subclass of Q3918."]}),"\n",(0,t.jsx)(i.p,{children:"Some items and types may not yet be set as an instance or subclass of anything (because Wikidata is crowdsourced). If you restrict reconciliation to a type, items without the chosen type will not appear in the results, except as a fallback, and will have a lower score."}),"\n",(0,t.jsx)(i.h2,{id:"reconciling-via-unique-identifiers",children:"Reconciling via unique identifiers"}),"\n",(0,t.jsxs)(i.p,{children:['You can supply a column of unique identifiers (in the form "Q###" for entities) directly to Wikidata in order to pull more data, but ',(0,t.jsx)(i.a,{href:"reconciling#reconciling-with-unique-identifiers",children:"these strings will not be \u201creconciled\u201d against the external dataset"}),". Apply the operation ",(0,t.jsx)("span",{class:"menuItems",children:"Reconcile"})," \u2192 ",(0,t.jsx)("span",{class:"menuItems",children:"Use values as identifiers"}),' on your column of QIDs. All cells will appear as dark blue \u201cconfirmed\u201d matches. Some of the \u201cmatches\u201d may be errors, which you will need to hover over or click on to identify. You cannot use this to reconcile properties (in the form "P###").']}),"\n",(0,t.jsx)(i.p,{children:"If the identifier you submit is assigned to multiple Wikidata items (because Wikidata is crowdsourced), all of the items are returned as candidates, with none automatically matched."}),"\n",(0,t.jsx)(i.h2,{id:"property-paths-special-properties-and-subfields",children:"Property paths, special properties, and subfields"}),"\n",(0,t.jsx)(i.p,{children:"Wikidata's hierarchical property structure can be called by using property paths (using |, /, and . symbols). Labels, aliases, descriptions, and sitelinks can also be accessed. You can also match values against subfields, such as latitude and longitude subfields of a geographical coordinate."}),"\n",(0,t.jsx)(i.p,{children:"Labels, aliases, descriptions and sitelinks can be accessed as follows (L for label , D for description, A for aliases, S for sitelink):"}),"\n",(0,t.jsx)(i.p,{children:"Len for Label in English\nDfi for Description in Finnish\nApt for Alias in Portuguese\nSdewiki for Sitelink in German Wikipedia page titles\nScommonswiki for Commons sitelink"}),"\n",(0,t.jsx)(i.p,{children:"The lowercase letters are Wikimedia language codes which select which language the terms will be fetched. No language fall-back is performed when retrieving the values."}),"\n",(0,t.jsxs)(i.p,{children:["For information on how to do this, read the ",(0,t.jsx)(i.a,{href:"https://wikidata.reconci.link/#documentation",children:"documentation and further resources here"}),"."]})]})}function h(e={}){const{wrapper:i}={...(0,s.a)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},69018:(e,i,n)=>{n.d(i,{Z:()=>o,a:()=>r});var t=n(47768);const s={},a=t.createContext(s);function r(e){const i=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(a.Provider,{value:i},e.children)}}}]);