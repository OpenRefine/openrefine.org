<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-manual/cellediting" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">Cell editing | OpenRefine</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://openrefine.org/docs/manual/cellediting"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Cell editing | OpenRefine"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/img/openrefine_logo.svg"><link data-rh="true" rel="canonical" href="https://openrefine.org/docs/manual/cellediting"><link data-rh="true" rel="alternate" href="https://openrefine.org/docs/manual/cellediting" hreflang="en"><link data-rh="true" rel="alternate" href="https://openrefine.org/docs/manual/cellediting" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://RXJKLJKJU2-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="OpenRefine RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="OpenRefine Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="OpenRefine" href="/opensearch.xml">


<script src="/js/fix-location.js"></script><link rel="stylesheet" href="/assets/css/styles.a1181bf6.css">
<script src="/assets/js/runtime~main.3b2d2040.js" defer="defer"></script>
<script src="/assets/js/main.c6558953.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_hUDU" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/openrefine_logo.svg" alt="OpenRefine diamond logo" class="themedComponent_vVmS themedComponent--light_NniB"><img src="/img/openrefine_logo.svg" alt="OpenRefine diamond logo" class="themedComponent_vVmS themedComponent--dark_yJur"></div><b class="navbar__title text--truncate">OpenRefine</b></a><a class="navbar__item navbar__link" href="/download">Download</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Documentation</a><a class="navbar__item navbar__link" href="/community">Community</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/donate">Donate</a><a href="https://github.com/OpenRefine/OpenRefine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_RpKI"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_CSJf colorModeToggle_Cgdy"><button class="clean-btn toggleButton_jrrp toggleButtonDisabled_v9ww" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_hPNs"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Pxog"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_WQyT"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_tDGm"><div class="docsWrapper_kJ9P"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_hEO2" type="button"></button><div class="docRoot_q0n7"><aside class="theme-doc-sidebar-container docSidebarContainer_HBrN"><div class="sidebarViewport_rCxN"><div class="sidebar_hGra"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Uy8J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs">User Manual</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/installing">Installing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/running">Running</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/starting">Starting a project</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/manual/exploring">Exploring data</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/manual/transforming">Transforming data</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/transforming">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/manual/cellediting">Cell editing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/columnediting">Column editing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/transposing">Transposing</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/reconciling">Reconciling</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/manual/wikibase/overview">Wikibase, Wikidata and Wikimedia Commons</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/manual/expressions">Expressions</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/exporting">Exporting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/troubleshooting">Troubleshooting</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/technical-reference/contributing">Contributing to OpenRefine</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_msDC"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VluO"><div class="docItemContainer_z4Sv"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_WV5T" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xTv0"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">User Manual</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Transforming data</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Cell editing</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_d09M theme-doc-toc-mobile tocMobile__k1e"><button type="button" class="clean-btn tocCollapsibleButton_cV_m">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Cell editing</h1></header><h2 class="anchor anchorWithStickyNavbar__YFU" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>OpenRefine offers a number of features to edit and improve the contents of cells automatically and efficiently.</p>
<p>One way of doing this is editing through a <a href="/docs/manual/facets#text-facet">text facet</a>. Once you have created a facet on a column, hover over the displayed results in the sidebar. Click on the small “edit” button that appears to the right of the facet, and type in a new value. This will apply to all the cells in the facet.</p>
<p>You can apply a text facet on numbers, boolean values, and dates, but if you edit a value it will be converted into the text <a href="/docs/manual/exploring#data-types">data type</a> (regardless of whether you edit a date into another correctly-formatted date, or a “true” value into “false”, etc.).</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="transform">Transform<a href="#transform" class="hash-link" aria-label="Direct link to Transform" title="Direct link to Transform">​</a></h2>
<p>Select <span class="menuItems">Edit cells</span> → <span class="menuItems">Transform...</span> to open up an expressions window. From here, you can apply <a href="/docs/manual/expressions">expressions</a> to your data. The simplest examples are GREL functions such as <a href="/docs/manual/grelfunctions#touppercases"><code>toUppercase()</code></a> or <a href="/docs/manual/grelfunctions#tolowercases"><code>toLowercase()</code></a>, used in expressions as <code>toUppercase(value)</code> or <code>toLowercase(value)</code>. When used on a column operation, <code>value</code> is the information in each cell in the selected column.</p>
<p>Use the preview to ensure your data is being transformed correctly.</p>
<p>You can also switch to the <span class="tabLabels">Undo / Redo</span> tab inside the expressions window to reuse expressions you’ve already attempted in this project, whether they have been undone or not.</p>
<p>OpenRefine offers you some frequently-used transformations in the next menu option, <span class="menuItems">Common transforms</span>. For more custom transforms, read up on <a href="/docs/manual/expressions">expressions</a>.</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="common-transforms">Common transforms<a href="#common-transforms" class="hash-link" aria-label="Direct link to Common transforms" title="Direct link to Common transforms">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar__YFU" id="trim-leading-and-trailing-whitespace">Trim leading and trailing whitespace<a href="#trim-leading-and-trailing-whitespace" class="hash-link" aria-label="Direct link to Trim leading and trailing whitespace" title="Direct link to Trim leading and trailing whitespace">​</a></h3>
<p>Often cell contents that should be identical, and look identical, are different because of space or line-break characters that are invisible to users. This function will get rid of any characters that sit before or after visible text characters.</p>
<h3 class="anchor anchorWithStickyNavbar__YFU" id="collapse-consecutive-whitespace">Collapse consecutive whitespace<a href="#collapse-consecutive-whitespace" class="hash-link" aria-label="Direct link to Collapse consecutive whitespace" title="Direct link to Collapse consecutive whitespace">​</a></h3>
<p>You may find that some text cells contain what look like spaces but are actually tabs, or contain multiple spaces in a row. This function will remove all space characters that sit in sequence and replace them with a single space.</p>
<h3 class="anchor anchorWithStickyNavbar__YFU" id="unescape-html">Unescape HTML<a href="#unescape-html" class="hash-link" aria-label="Direct link to Unescape HTML" title="Direct link to Unescape HTML">​</a></h3>
<p>Your data may come from an HTML-formatted source that expresses some characters through references (such as “&amp;nbsp;” for a space, or “%u0107” for a ć) instead of the actual Unicode characters. You can use the “unescape HTML entities” transform to look for these codes and replace them with the characters they represent. For other formatting that needs to be escaped, try a custom transformation with <a href="/docs/manual/grelfunctions#escapes-s-mode"><code>escape()</code></a>.</p>
<h3 class="anchor anchorWithStickyNavbar__YFU" id="replace-smart-quotes-with-ascii">Replace smart quotes with ASCII<a href="#replace-smart-quotes-with-ascii" class="hash-link" aria-label="Direct link to Replace smart quotes with ASCII" title="Direct link to Replace smart quotes with ASCII">​</a></h3>
<p>Smart quotes (or curly quotes) recognize whether they come at the beginning or end of a string, and will generate an “open” quote (“) and a “close” quote (”). These characters are not ASCII-compliant (though they are UTF8-compliant) so you can use this tranform to replace them with a straight double quote character (&quot;) instead.</p>
<h3 class="anchor anchorWithStickyNavbar__YFU" id="case-transforms">Case transforms<a href="#case-transforms" class="hash-link" aria-label="Direct link to Case transforms" title="Direct link to Case transforms">​</a></h3>
<p>You can transform an entire column of text into UPPERCASE, lowercase, or Title Case using these three options. This can be useful if you are planning to do textual analysis and wish to avoid case-sensitivity (which some functions are) causing problems in your analysis. Consider also using a <a href="/docs/manual/facets#custom-text-facet">custom facet</a> to temporarily modify cases instead of this permanent operation if appropriate.</p>
<h3 class="anchor anchorWithStickyNavbar__YFU" id="data-type-transforms">Data-type transforms<a href="#data-type-transforms" class="hash-link" aria-label="Direct link to Data-type transforms" title="Direct link to Data-type transforms">​</a></h3>
<p>As detailed in <a href="/docs/manual/exploring#data-types">Data types</a>, OpenRefine recognizes different data types: string, number, boolean, and date. When you use these transforms, OpenRefine will check to see if the given values can be converted, then both transform the data in the cells (such as “3” as a text string to “3” as a number) and convert the data type on each successfully transformed cell. Cells that cannot be transformed will output the original value and maintain their original data type.</p>
<div class="theme-admonition theme-admonition-caution admonition_yYQ_ alert alert--warning"><div class="admonitionHeading_IpSB"><span class="admonitionIcon_jG7y"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_svb2"><p>Be aware that dates may require manual intervention to transform successfully: see the section on <a href="/docs/manual/exploring#dates">Dates</a> for more information.</p></div></div>
<p>Because these common transforms do not offer the ability to output an error instead of the original cell contents, be careful to look for unconverted and untransformed values. You will see a yellow alert at the top of screen that will tell you how many cells were converted - if this number does not match your current row set, you will need to look for and manually correct the remaining cells. Also consider faceting by data type, with the GREL function <a href="/docs/manual/grelfunctions#typeo"><code>type()</code></a>.</p>
<p>You can also convert cells into null values or empty strings. This can be useful if you wish to, for example, erase duplicates that you have identified and are analyzing as a subset.</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="fill-down-and-blank-down">Fill down and blank down<a href="#fill-down-and-blank-down" class="hash-link" aria-label="Direct link to Fill down and blank down" title="Direct link to Fill down and blank down">​</a></h2>
<p>Fill down and blank down are two functions most frequently used when encountering data organized into <a href="/docs/manual/exploring#rows-vs-records">records</a> - that is, multiple rows associated with one specific entity.</p>
<p>If you receive information in rows mode and want to convert it to records mode, the easiest way is to sort your first column by the value that you want to use as a unique records key, <a href="/docs/manual/transforming#edit-rows">make that sorting permanent</a>, then blank down all the duplicates in that column. OpenRefine will retain the first unique value and erase the rest. Then you can switch from “Show as rows” to “Show as records” and OpenRefine will associate rows to each other based on the remaining values in the first column.</p>
<p>Be careful that your data is sorted properly before you begin blanking down - not just the first column but other columns you may want to have in a certain order. For example, you may have multiple identical entries in the first column, one with a value in the second column and one with an empty cell in the second column. In this case you want the row with the second-column value to come first, so that you can clean up empty rows later, once you blank down.</p>
<p>If, conversely, you’ve received data with empty cells because it was already in something akin to records mode, you can fill down information to the rest of the rows. This will duplicate whatever value exists in the topmost cell with a value: if the first row in the record is blank, it will take information from the next cell, or the cell after that, until it finds a value. The blank cells above this will remain blank.</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="split-multi-valued-cells">Split multi-valued cells<a href="#split-multi-valued-cells" class="hash-link" aria-label="Direct link to Split multi-valued cells" title="Direct link to Split multi-valued cells">​</a></h2>
<p>Splitting cells with more than one value in them is a common way to get your data from single rows into <a href="/docs/manual/exploring#rows-vs-records">multi-row records</a>. Survey data, for example, frequently allows respondents to “Select all that apply,” or an inventory list might have items filed under more than one category.</p>
<p>You can split a column based on any character or series of characters you input, such as a semi-colon (;) or a slash (/). The default is a comma. Splitting based on a separator will remove the separator characters, so you may wish to include a space with your separator (; ) if it exists in your data.</p>
<p>You can use <a href="/docs/manual/expressions">expressions</a> to design the point at which a cell should split itself into two or more rows. This can be used to identify special characters or create more advanced evaluations. You can split on a line-break by entering <code>\n</code> and checking the “<a href="/docs/manual/expressions#regular-expressions">regular expression</a>” checkbox.</p>
<p>Regular expressions can be useful if the split is not straightforward: say, if a capital letter (<code>[A-Z]</code>) indicates the beginning of a new string, or if you need to <em>not</em> always split on a character that appears in both the strings and as a separator. Remember that this will remove all the matching characters.</p>
<p>You can also split based on the lengths of the strings you expect to find. This can be useful if you have predictable data in the cells: for example, a 10-digit phone number, followed by a space, followed by another 10-digit phone number. Any characters past the explicit length you’ve specified will be discarded: if you split by “11, 10” any characters that may come after the 21st character will disappear. If some cells only have one phone number, you will end up with blank rows.</p>
<p>If you have data that should be split into multiple columns instead of multiple rows, see <a href="/docs/manual/columnediting#split-into-several-columns">Split into several columns</a>.</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="join-multi-valued-cells">Join multi-valued cells<a href="#join-multi-valued-cells" class="hash-link" aria-label="Direct link to Join multi-valued cells" title="Direct link to Join multi-valued cells">​</a></h2>
<p>Joining will reverse the “split multi-valued cells” operation, or join up information from multiple rows into one row. All the strings will be compressed into the topmost cell in the record, in the order they appear. A window will appear where you can set the separator; the default is a comma and a space (, ). This separator is optional. We suggest the separator | as a sufficiently rare character.</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="cluster-and-edit">Cluster and edit<a href="#cluster-and-edit" class="hash-link" aria-label="Direct link to Cluster and edit" title="Direct link to Cluster and edit">​</a></h2>
<p>Creating a facet on a column is a great way to look for inconsistencies in your data; clustering is a great way to fix those inconsistencies. Clustering uses a variety of comparison methods to find text entries that are similar but not exact, then shares those results with you so that you can merge the cells that should match. Where editing a single cell or text facet at a time can be time-consuming and difficult, clustering is quick and streamlined.</p>
<p>Clustering always requires the user to approve each suggested edit - it will display values it thinks are variations on the same thing, and you can select which version to keep and apply across all the matching cells (or type in your own version).</p>
<p>OpenRefine will do a number of cleanup operations behind the scenes in order to do its analysis, but only the merges you approve will modify your data. Understanding those different behind-the-scenes cleanups can help you choose which clustering method will be more accurate and effective.</p>
<p>You can start the process in two ways: using the dropdown menu on your column, select <span class="menuItems">Edit cells</span> → <span class="menuItems">Cluster and edit…</span>; or create a text facet and then press the “Cluster” button that appears in the facet box.</p>
<p><img decoding="async" loading="lazy" alt="A screenshot of the Clustering window." src="/assets/images/cluster-b976e7087bd13d2340dfaba8bf0bb439.png" class="img_SA_L"></p>
<p>The clustering pop-up window will take a small amount of time to analyze your column, and then make some suggestions based on the clustering method currently active.</p>
<p>For each cluster identified, you can pick one of the existing values to apply to all cells, or manually type in a new value in the text box. And, of course, you can choose not to cluster them at all. OpenRefine will keep analyzing every time you make a change, with <span class="buttonLabels">Merge selected &amp; re-cluster</span>, and you can work through all the methods this way.</p>
<p>You can also export the currently identified clusters as a JSON file, or close the window with or without applying your changes. You can also use the histograms on the right to narrow down to, for example, clusters with lots of matching rows, or clusters of long or short values.</p>
<h3 class="anchor anchorWithStickyNavbar__YFU" id="clustering-methods">Clustering methods<a href="#clustering-methods" class="hash-link" aria-label="Direct link to Clustering methods" title="Direct link to Clustering methods">​</a></h3>
<p>You don’t need to understand the details behind each clustering method to apply them successfully to your data.</p>
<p>The order in which these methods are presented in the interface and on this page is the order we recommend - starting with the most strict rules and moving to the laxest, which require more human supervision to apply correctly.</p>
<p>The clustering pop-up window offers you two categories of clustering methods: 6 different key collision clustering methods and 2 nearest neighbour clustering methods.</p>
<ul>
<li>
<p><a href="#key-collision">Key Collision</a></p>
<p>The Key Collision category is itself subcategorized by <a href="#phonetic-clustering">phonetic</a> or not-phonetic clustering.</p>
<ul>
<li><a href="#fingerprinting">Fingerprint</a></li>
<li><a href="#n-gram">N-gram Fingerprint</a></li>
<li><a href="#metaphone3-fingerprinting">Metaphone3</a></li>
<li><a href="#cologne-fingerprinting">Cologne Phonetic</a></li>
<li><a href="#daitch-mokotoff">Daitch-Mokotoff</a></li>
<li><a href="#baider-morse">Beider-Morse</a></li>
</ul>
</li>
<li>
<p><a href="#nearest-neighbor">Nearest Neighbor</a></p>
<ul>
<li><a href="#levenshtein-distance">Levenshtein</a></li>
<li><a href="#ppm">PPM</a></li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="key-collision">Key Collision<a href="#key-collision" class="hash-link" aria-label="Direct link to Key Collision" title="Direct link to Key Collision">​</a></h4>
<p><strong>Key collisions</strong> are very fast and can process millions of cells in seconds:</p>
<h5 class="anchor anchorWithStickyNavbar__YFU" id="fingerprinting">Fingerprinting<a href="#fingerprinting" class="hash-link" aria-label="Direct link to Fingerprinting" title="Direct link to Fingerprinting">​</a></h5>
<p>Fingerprinting is the least likely to produce false positives, so it’s a  good place to start. It does the same kind of data cleaning behind the scenes that you might think to do manually:</p>
<ul>
<li>fix whitespace into single spaces</li>
<li>put all uppercase letters into lowercase</li>
<li>discard punctuation</li>
<li>remove diacritics (e.g. accents) from characters</li>
<li>split up all strings (words) and sort them alphabetically (so
“Zhenyi, Wang” becomes “wang zhenyi”).</li>
</ul>
<p>For an in-depth understanding of fingerprinting, check this <a href="https://github.com/OpenRefine/OpenRefine/wiki/Clustering-In-Depth#fingerprint" target="_blank" rel="noopener noreferrer">document</a></p>
<p><strong><a name="n-gram">N-gram Fingerprinting</a></strong></p>
<p>N-gram fingerprinting allows you to set the <em>n</em> value to whatever number you’d like and will create n-grams of <em>n</em> size (after doing some cleaning), alphabetize them, then join them back together into a  fingerprint.</p>
<p><strong>For example</strong>, a 1-gram fingerprint will simply organize all the letters in the cell into alphabetical order - by creating segments one character in length. A 2-gram fingerprint will find all the two-character segments, remove duplicates, alphabetize them, and join them back together (for example, “banana” generates “ba an na an na,” which becomes “anbana”).</p>
<p>This can help match cells that have typos, or incorrect spaces (such as matching “lookout” and “look out,” which fingerprinting itself won’t identify because it separates words). The higher the <em>n</em> value, the fewer clusters will be identified. With 1-grams, keep an eye out for mismatched values that are near-anagrams of each other (such as “Wellington” and “Elgin Town”).</p>
<p>For an in-depth understanding of N-gram fingerprinting, check this <a href="https://github.com/OpenRefine/OpenRefine/wiki/Clustering-In-Depth#n-gram-fingerprint" target="_blank" rel="noopener noreferrer">document</a></p>
<p><strong><a name="phonetic-clustering">Phonetic Clustering</a></strong></p>
<p>The next four methods are phonetic algorithms: they identify letters that sound the same when pronounced out loud, and assess text values based on that (such as knowing that a word with an “S” might be a mistype of a word with a “Z”). They are great for spotting mistakes made by not knowing the spelling of a word or name after hearing it spoken aloud.</p>
<p><strong><a name="metaphone3-fingerprinting">Metaphone3 Fingerprinting</a></strong></p>
<p>Metaphone3 fingerprinting is an English-language phonetic algorithm. For example, “Reuben Gevorkiantz” and “Ruben Gevorkyants” share the same phonetic fingerprint in English.</p>
<p><strong><a name="cologne-fingerprinting">Cologne Fingerprinting</a></strong></p>
<p>Cologne fingerprinting is another phonetic algorithm, but for German pronunciation.</p>
<p><strong><a name="daitch-mokotoff">Daitch-Mokotoff</a></strong></p>
<p>Daitch-Mokotoff is a phonetic algorithm for Slavic and Yiddish words, especially names.</p>
<p><strong><a name="baider-morse">Baider-Morse</a></strong></p>
<p>Baider-Morse is a version of Daitch-Mokotoff that is slightly more strict.</p>
<p>Regardless of the language of your data, applying each of them might find different potential matches: for example, Metaphone clusters “Cornwall” and “Corn Hill” and “Green Hill,” while Cologne clusters “Greenvale” and “Granville” and “Cornwall” and “Green Wall.”</p>
<p>For an in-depth understanding of phonetics, check this <a href="https://github.com/OpenRefine/OpenRefine/wiki/Clustering-In-Depth#phonetic-fingerprint" target="_blank" rel="noopener noreferrer">document</a></p>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="nearest-neighbor">Nearest Neighbor<a href="#nearest-neighbor" class="hash-link" aria-label="Direct link to Nearest Neighbor" title="Direct link to Nearest Neighbor">​</a></h4>
<p><strong>Nearest Neighbor</strong> clustering methods are slower than key collision methods.</p>
<p>They allow the user to set a radius - a threshold for matching or not matching. OpenRefine uses a “blocking” method first, which sorts values based on whether they have a certain amount of similarity (the default is “6” for a six-character string of identical characters) and then runs the nearest-neighbor operations on those sorted groups.</p>
<p>We recommend setting the block number to at least 3, and then increasing it if you need to be more strict (for example, if every value with “river” is being matched, you should increase it to 6 or more).</p>
<p><strong>Note</strong> that bigger block values will take much longer to process, while smaller blocks may miss matches. Increasing the radius will make the matches more lax, as bigger differences will be clustered.</p>
<p><strong><a name="levenshtein-distance">Levenshtein Distance</a></strong></p>
<p>Levenshtein distance counts the number of edits required to make one value perfectly match another. As in the key collision methods above, it will do things like change uppercase to lowercase, fix whitespace, change special characters, etc. Each character that gets changed counts as 1 “distance.” “New York” and “newyork” have an edit distance value of 3 (“N” to “n”; “Y” to “y”; remove the space).</p>
<p>It can do relatively advanced edits, such as understanding the distance between “M. Makeba” and “Miriam Makeba” (5), but it may create false positives if these distances are greater than other, simpler transformations (such as the one-character distance to “B. Makeba,” another person entirely).</p>
<p><strong><a name="ppm">PPM (Prediction by Partial Matching)</a></strong></p>
<p>PPM (Prediction by Partial Matching) uses compression to see whether two values are similar or different. In practice, this method is very lax even for small radius values and tends to generate many false positives, but because it operates at a sub-character level it is capable of finding substructures that are not easily identifiable by distances that work at the character level. So it should be used as a “last resort” clustering method. It is also more effective on longer strings than on shorter ones.</p>
<p>For more of the theory behind clustering, see <a href="https://github.com/OpenRefine/OpenRefine/wiki/Clustering-In-Depth" target="_blank" rel="noopener noreferrer">Clustering In Depth</a>.</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="replace">Replace<a href="#replace" class="hash-link" aria-label="Direct link to Replace" title="Direct link to Replace">​</a></h2>
<p>OpenRefine provides a find/replace function for you to edit your data. Selecting <span class="menuItems">Edit cells</span> → <span class="menuItems">Replace</span> will bring up a simple window where you can input a string to search and a string to replace it with. You can set case-sensitivity, and set it to only select whole words, defined by a string with spaces or punctuation around it (to prevent, for example, “house” selecting the “house” part of “doghouse”). You can use <a href="/docs/manual/expressions#regular-expressions">regular expressions</a> in this field. You may wish to preview the results of this operation by testing it with a <a href="/docs/manual/facets#text-filter">Text filter</a> first.</p>
<p>You can also perform a sort of find/replace operation by editing one cell, and selecting “apply to all identical cells.”</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="edit-one-cell-at-a-time">Edit one cell at a time<a href="#edit-one-cell-at-a-time" class="hash-link" aria-label="Direct link to Edit one cell at a time" title="Direct link to Edit one cell at a time">​</a></h2>
<p>You can edit individual cells by hovering your mouse over that cell. You should see a tiny blue link labeled “edit.” Click it to edit the cell. That pops up a window with a bigger text field for you to edit. You can change the <a href="/docs/manual/exploring#data-types">data type</a> of that cell, and you can apply these changes to all identical cells (in the same column), using this pop-up window.</p>
<p>You will likely want to avoid doing this except in rare cases - the more efficient means of improving your data will be through automated and bulk operations.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/OpenRefine/openrefine.github.com/edit/master/docs/manual/cellediting.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_AKM5" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_v_5u"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-01-12T09:55:01.000Z" itemprop="dateModified">Jan 12, 2024</time></b> by <b>Aakash Amod Rajput</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/manual/transforming"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/manual/columnediting"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Column editing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_kigY thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#transform" class="table-of-contents__link toc-highlight">Transform</a></li><li><a href="#common-transforms" class="table-of-contents__link toc-highlight">Common transforms</a><ul><li><a href="#trim-leading-and-trailing-whitespace" class="table-of-contents__link toc-highlight">Trim leading and trailing whitespace</a></li><li><a href="#collapse-consecutive-whitespace" class="table-of-contents__link toc-highlight">Collapse consecutive whitespace</a></li><li><a href="#unescape-html" class="table-of-contents__link toc-highlight">Unescape HTML</a></li><li><a href="#replace-smart-quotes-with-ascii" class="table-of-contents__link toc-highlight">Replace smart quotes with ASCII</a></li><li><a href="#case-transforms" class="table-of-contents__link toc-highlight">Case transforms</a></li><li><a href="#data-type-transforms" class="table-of-contents__link toc-highlight">Data-type transforms</a></li></ul></li><li><a href="#fill-down-and-blank-down" class="table-of-contents__link toc-highlight">Fill down and blank down</a></li><li><a href="#split-multi-valued-cells" class="table-of-contents__link toc-highlight">Split multi-valued cells</a></li><li><a href="#join-multi-valued-cells" class="table-of-contents__link toc-highlight">Join multi-valued cells</a></li><li><a href="#cluster-and-edit" class="table-of-contents__link toc-highlight">Cluster and edit</a><ul><li><a href="#clustering-methods" class="table-of-contents__link toc-highlight">Clustering methods</a></li></ul></li><li><a href="#replace" class="table-of-contents__link toc-highlight">Replace</a></li><li><a href="#edit-one-cell-at-a-time" class="table-of-contents__link toc-highlight">Edit one cell at a time</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Get OpenRefine</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/download">Download</a></li><li class="footer__item"><a class="footer__link-item" href="/whats_new">What&#x27;s new</a></li><li class="footer__item"><a class="footer__link-item" href="/extensions">Extensions</a></li><li class="footer__item"><a class="footer__link-item" href="/distributions">Other distributions</a></li><li class="footer__item"><a href="https://github.com/OpenRefine/OpenRefine" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub repository<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_RpKI"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">User manual</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/technical-reference/contributing">Contributing</a></li><li class="footer__item"><a class="footer__link-item" href="/external_resources">External resources</a></li><li class="footer__item"><a class="footer__link-item" href="/funding">Grants &amp; funding</a></li><li class="footer__item"><a class="footer__link-item" href="/privacy">Privacy notice</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community">Get involved</a></li><li class="footer__item"><a href="https://forum.openrefine.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_RpKI"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitter.im/OpenRefine/OpenRefine" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitter chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_RpKI"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/openrefine" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_RpKI"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item">
                  <a rel="me" class="footer__link-item" target="_blank" href="https://fosstodon.org/@OpenRefine">Mastodon<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_node_modules-@docusaurus-theme-classic-lib-theme-Icon-ExternalLink-styles-module"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a>
                </li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://openrefine.org" rel="noopener noreferrer" class="footerLogoLink_rbIq"><img src="/img/openrefine_logo.svg" alt="OpenRefine diamond logo" class="footer__logo themedComponent_vVmS themedComponent--light_NniB" height="150"><img src="/img/openrefine_logo.svg" alt="OpenRefine diamond logo" class="footer__logo themedComponent_vVmS themedComponent--dark_yJur" height="150"></a></div><div class="footer__copyright"><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png"></a><br>OpenRefine's documentation is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</div></div></div></footer></div>
</body>
</html>