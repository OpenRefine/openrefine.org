<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-manual/grelfunctions" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">GREL functions | OpenRefine</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://openrefine.org/docs/manual/grelfunctions"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="GREL functions | OpenRefine"><meta data-rh="true" name="description" content="Besides the reference guide below, OpenRefine&#x27;s GitHub wiki has a page with many examples and recipes of frequently-used GREL functions."><meta data-rh="true" property="og:description" content="Besides the reference guide below, OpenRefine&#x27;s GitHub wiki has a page with many examples and recipes of frequently-used GREL functions."><link data-rh="true" rel="icon" href="/img/openrefine_logo.svg"><link data-rh="true" rel="canonical" href="https://openrefine.org/docs/manual/grelfunctions"><link data-rh="true" rel="alternate" href="https://openrefine.org/docs/manual/grelfunctions" hreflang="en"><link data-rh="true" rel="alternate" href="https://openrefine.org/docs/manual/grelfunctions" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://RXJKLJKJU2-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="OpenRefine RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="OpenRefine Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="OpenRefine" href="/opensearch.xml">


<script src="/js/fix-location.js"></script><link rel="stylesheet" href="/assets/css/styles.a1181bf6.css">
<script src="/assets/js/runtime~main.3b2d2040.js" defer="defer"></script>
<script src="/assets/js/main.c6558953.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_hUDU" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/openrefine_logo.svg" alt="OpenRefine diamond logo" class="themedComponent_vVmS themedComponent--light_NniB"><img src="/img/openrefine_logo.svg" alt="OpenRefine diamond logo" class="themedComponent_vVmS themedComponent--dark_yJur"></div><b class="navbar__title text--truncate">OpenRefine</b></a><a class="navbar__item navbar__link" href="/download">Download</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Documentation</a><a class="navbar__item navbar__link" href="/community">Community</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/donate">Donate</a><a href="https://github.com/OpenRefine/OpenRefine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_RpKI"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_CSJf colorModeToggle_Cgdy"><button class="clean-btn toggleButton_jrrp toggleButtonDisabled_v9ww" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_hPNs"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Pxog"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_WQyT"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_tDGm"><div class="docsWrapper_kJ9P"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_hEO2" type="button"></button><div class="docRoot_q0n7"><aside class="theme-doc-sidebar-container docSidebarContainer_HBrN"><div class="sidebarViewport_rCxN"><div class="sidebar_hGra"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Uy8J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs">User Manual</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/installing">Installing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/running">Running</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/starting">Starting a project</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/manual/exploring">Exploring data</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/manual/transforming">Transforming data</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/reconciling">Reconciling</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/manual/wikibase/overview">Wikibase, Wikidata and Wikimedia Commons</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/manual/expressions">Expressions</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/expressions">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/grel">General Refine Expression Language</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/manual/grelfunctions">GREL functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/jythonclojure">Jython &amp; Clojure</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/exporting">Exporting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/troubleshooting">Troubleshooting</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/technical-reference/contributing">Contributing to OpenRefine</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_msDC"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VluO"><div class="docItemContainer_z4Sv"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_WV5T" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xTv0"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">User Manual</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Expressions</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">GREL functions</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_d09M theme-doc-toc-mobile tocMobile__k1e"><button type="button" class="clean-btn tocCollapsibleButton_cV_m">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>GREL functions</h1></header><p><strong>Besides the reference guide below, OpenRefine&#x27;s GitHub wiki has <a href="https://github.com/OpenRefine/OpenRefine/wiki/Recipes" target="_blank" rel="noopener noreferrer">a page with many examples and recipes of frequently-used GREL functions</a>.</strong></p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="reading-this-reference">Reading this reference<a href="#reading-this-reference" class="hash-link" aria-label="Direct link to Reading this reference" title="Direct link to Reading this reference">​</a></h2>
<p>For the reference below, the function is given in full-length notation and the in-text examples are written in dot notation. Shorthands are used to indicate the kind of <a href="/docs/manual/exploring#data-types">data type</a> used in each function: s for string, b for boolean, n for number, d for date, a for array, p for a regex pattern, and o for object (meaning any data type), as well as “null” and “error” data types.</p>
<p>If a function can take more than one kind of data as input or can output more than one kind of data, that is indicated with more than one letter (as with “s or a”) or with o for object, meaning it can take any type of data (string, boolean, date, number, etc.).</p>
<p>We also use shorthands for substring (“sub”) and separator string (“sep”).
Optional arguments will say “(optional)”.</p>
<p>In places where OpenRefine will accept a string (s) or a regex pattern (p), you can supply a string by putting it in quotes. If you wish to use any <a href="/docs/manual/expressions#regular-expressions">regex</a> notation, wrap the pattern in forward slashes.</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="boolean-functions">Boolean functions<a href="#boolean-functions" class="hash-link" aria-label="Direct link to Boolean functions" title="Direct link to Boolean functions">​</a></h2>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="andb1-b2-">and(b1, b2, ...)<a href="#andb1-b2-" class="hash-link" aria-label="Direct link to and(b1, b2, ...)" title="Direct link to and(b1, b2, ...)">​</a></h6>
<p>Uses the logical operator AND on two or more booleans to output a boolean. Evaluates multiple statements into booleans, then returns true if all of the statements are true. For example, <code>(1 &lt; 3).and(1 &lt; 0)</code> returns false because one condition is true and one is false.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="orb1-b2-">or(b1, b2, ...)<a href="#orb1-b2-" class="hash-link" aria-label="Direct link to or(b1, b2, ...)" title="Direct link to or(b1, b2, ...)">​</a></h6>
<p>Uses the logical operator OR on two or more booleans to output a boolean. For example, <code>(1 &lt; 3).or(1 &gt; 7)</code> returns true because at least one of the conditions (the first one) is true.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="notb">not(b)<a href="#notb" class="hash-link" aria-label="Direct link to not(b)" title="Direct link to not(b)">​</a></h6>
<p>Uses the logical operator NOT on a boolean to output a boolean. For example, <code>not(1 &gt; 7)</code> returns true because 1 &gt; 7 itself is false.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="xorb1-b2-">xor(b1, b2, ...)<a href="#xorb1-b2-" class="hash-link" aria-label="Direct link to xor(b1, b2, ...)" title="Direct link to xor(b1, b2, ...)">​</a></h6>
<p>Uses the logical operator XOR (exclusive-or) on two or more booleans to output a boolean. Evaluates multiple statements, then returns true if only one of them is true. For example, <code>(1 &lt; 3).xor(1 &lt; 7)</code> returns false because more than one of the conditions is true.</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="string-functions">String functions<a href="#string-functions" class="hash-link" aria-label="Direct link to String functions" title="Direct link to String functions">​</a></h2>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="lengths">length(s)<a href="#lengths" class="hash-link" aria-label="Direct link to length(s)" title="Direct link to length(s)">​</a></h6>
<p>Returns the length of string s as a number.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="tostringo-string-format-optional">toString(o, string format (optional))<a href="#tostringo-string-format-optional" class="hash-link" aria-label="Direct link to toString(o, string format (optional))" title="Direct link to toString(o, string format (optional))">​</a></h6>
<p>Takes any value type (string, number, date, boolean, error, null) and gives a string version of that value.</p>
<p>You can use toString() to convert numbers to strings with rounding, using an <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html" target="_blank" rel="noopener noreferrer">optional string format</a>. For example, if you applied the expression <code>value.toString(&quot;%.0f&quot;)</code> to a column:</p>
<table><thead><tr><th>Input</th><th>Output</th></tr></thead><tbody><tr><td>3.2</td><td>3</td></tr><tr><td>0.8</td><td>1</td></tr><tr><td>0.15</td><td>0</td></tr><tr><td>100.0</td><td>100</td></tr></tbody></table>
<p>You can also convert dates to strings, using date parsing syntax built into OpenRefine (see <a href="#todateo-b-monthfirst-s-format1-s-format2-">the toDate() function for details</a>). For example, <code>value.toString(&quot;MMM-dd-yyyy&quot;)</code> would convert the date value [2024-10-15T00:00:00Z] to “Oct-15-2024”.</p>
<p>Note: In OpenRefine, using toString() on a null cell outputs the string “null”.</p>
<h3 class="anchor anchorWithStickyNavbar__YFU" id="testing-string-characteristics">Testing string characteristics<a href="#testing-string-characteristics" class="hash-link" aria-label="Direct link to Testing string characteristics" title="Direct link to Testing string characteristics">​</a></h3>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="startswiths-sub">startsWith(s, sub)<a href="#startswiths-sub" class="hash-link" aria-label="Direct link to startsWith(s, sub)" title="Direct link to startsWith(s, sub)">​</a></h6>
<p>Returns a boolean indicating whether s starts with sub. For example, <code>&quot;food&quot;.startsWith(&quot;foo&quot;)</code> returns true, whereas <code>&quot;food&quot;.startsWith(&quot;bar&quot;)</code> returns false.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="endswiths-sub">endsWith(s, sub)<a href="#endswiths-sub" class="hash-link" aria-label="Direct link to endsWith(s, sub)" title="Direct link to endsWith(s, sub)">​</a></h6>
<p>Returns a boolean indicating whether s ends with sub. For example, <code>&quot;food&quot;.endsWith(&quot;ood&quot;)</code> returns true, whereas <code>&quot;food&quot;.endsWith(&quot;odd&quot;)</code> returns false.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="containss-sub-or-p">contains(s, sub or p)<a href="#containss-sub-or-p" class="hash-link" aria-label="Direct link to contains(s, sub or p)" title="Direct link to contains(s, sub or p)">​</a></h6>
<p>Returns a boolean indicating whether s contains sub, which is either a substring or a regex pattern. For example, <code>&quot;food&quot;.contains(&quot;oo&quot;)</code> returns true whereas <code>&quot;food&quot;.contains(&quot;ee&quot;)</code> returns false.</p>
<p>You can search for a regular expression by wrapping it in forward slashes rather than quotes: <code>&quot;rose is a rose&quot;.contains(/\s+/)</code> returns true. startsWith() and endsWith() can only take strings, while contains() can take a regex pattern, so you can use contains() to look for beginning and ending string patterns.</p>
<h3 class="anchor anchorWithStickyNavbar__YFU" id="basic-string-modification">Basic string modification<a href="#basic-string-modification" class="hash-link" aria-label="Direct link to Basic string modification" title="Direct link to Basic string modification">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="case-conversion">Case conversion<a href="#case-conversion" class="hash-link" aria-label="Direct link to Case conversion" title="Direct link to Case conversion">​</a></h4>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="tolowercases">toLowercase(s)<a href="#tolowercases" class="hash-link" aria-label="Direct link to toLowercase(s)" title="Direct link to toLowercase(s)">​</a></h6>
<p>Returns string s converted to all lowercase characters.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="touppercases">toUppercase(s)<a href="#touppercases" class="hash-link" aria-label="Direct link to toUppercase(s)" title="Direct link to toUppercase(s)">​</a></h6>
<p>Returns string s converted to all uppercase characters.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="totitlecases">toTitlecase(s)<a href="#totitlecases" class="hash-link" aria-label="Direct link to toTitlecase(s)" title="Direct link to toTitlecase(s)">​</a></h6>
<p>Returns string s converted into titlecase: a capital letter starting each word, and the rest of the letters lowercase. For example, <code>&quot;Once upon a midnight DREARY&quot;.toTitlecase()</code> returns the string “Once Upon A Midnight Dreary”.</p>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="trimming">Trimming<a href="#trimming" class="hash-link" aria-label="Direct link to Trimming" title="Direct link to Trimming">​</a></h4>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="trims">trim(s)<a href="#trims" class="hash-link" aria-label="Direct link to trim(s)" title="Direct link to trim(s)">​</a></h6>
<p>Returns a copy of the string s with leading and trailing whitespace removed. For example, <code>&quot; island &quot;.trim()</code> returns the string “island”. Identical to strip().</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="strips">strip(s)<a href="#strips" class="hash-link" aria-label="Direct link to strip(s)" title="Direct link to strip(s)">​</a></h6>
<p>Returns a copy of the string s with leading and trailing whitespace removed. For example, <code>&quot; island &quot;.strip()</code> returns the string “island”. Identical to trim().</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="chomps-sep">chomp(s, sep)<a href="#chomps-sep" class="hash-link" aria-label="Direct link to chomp(s, sep)" title="Direct link to chomp(s, sep)">​</a></h6>
<p>Returns a copy of string s with the string sep removed from the end if s ends with sep; otherwise, just returns s. For example, <code>&quot;barely&quot;.chomp(&quot;ly&quot;)</code> and <code>&quot;bare&quot;.chomp(&quot;ly&quot;)</code> both return the string “bare”.</p>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="substring">Substring<a href="#substring" class="hash-link" aria-label="Direct link to Substring" title="Direct link to Substring">​</a></h4>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="substrings-n-from-n-to-optional">substring(s, n from, n to (optional))<a href="#substrings-n-from-n-to-optional" class="hash-link" aria-label="Direct link to substring(s, n from, n to (optional))" title="Direct link to substring(s, n from, n to (optional))">​</a></h6>
<p>Returns the substring of s starting from character index from, and up to (excluding) character index to. If the to argument is omitted, substring will output to the end of s. For example, <code>&quot;profound&quot;.substring(3)</code> returns the string “found”, and <code>&quot;profound&quot;.substring(2, 4)</code> returns the string “of”.</p>
<p>Remember that character indices start from zero. A negative character index counts from the end of the string. For example, <code>&quot;profound&quot;.substring(0, -1)</code> returns the string “profoun”.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="slices-n-from-n-to-optional">slice(s, n from, n to (optional))<a href="#slices-n-from-n-to-optional" class="hash-link" aria-label="Direct link to slice(s, n from, n to (optional))" title="Direct link to slice(s, n from, n to (optional))">​</a></h6>
<p>Identical to substring() in relation to strings. Also works with arrays; see <a href="#slicea-n-from-n-to-optional">Array functions section</a>.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="gets-n-from-n-to-optional">get(s, n from, n to (optional))<a href="#gets-n-from-n-to-optional" class="hash-link" aria-label="Direct link to get(s, n from, n to (optional))" title="Direct link to get(s, n from, n to (optional))">​</a></h6>
<p>Identical to substring() in relation to strings. Also works with named fields. Also works with arrays; see <a href="#geta-n-from-n-to-optional">Array functions section</a>.</p>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="find-and-replace">Find and replace<a href="#find-and-replace" class="hash-link" aria-label="Direct link to Find and replace" title="Direct link to Find and replace">​</a></h4>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="indexofs-sub">indexOf(s, sub)<a href="#indexofs-sub" class="hash-link" aria-label="Direct link to indexOf(s, sub)" title="Direct link to indexOf(s, sub)">​</a></h6>
<p>Returns the first character index of sub as it first occurs in s; or, returns -1 if s does not contain sub. For example, <code>&quot;internationalization&quot;.indexOf(&quot;nation&quot;)</code> returns 5, whereas <code>&quot;internationalization&quot;.indexOf(&quot;world&quot;)</code> returns -1.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="lastindexofs-sub">lastIndexOf(s, sub)<a href="#lastindexofs-sub" class="hash-link" aria-label="Direct link to lastIndexOf(s, sub)" title="Direct link to lastIndexOf(s, sub)">​</a></h6>
<p>Returns the first character index of sub as it last occurs in s; or, returns -1 if s does not contain sub. For example, <code>&quot;parallel&quot;.lastIndexOf(&quot;a&quot;)</code> returns 3 (pointing at the second “a”).</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="replaces-s-or-p-find-s-replace">replace(s, s or p find, s replace)<a href="#replaces-s-or-p-find-s-replace" class="hash-link" aria-label="Direct link to replace(s, s or p find, s replace)" title="Direct link to replace(s, s or p find, s replace)">​</a></h6>
<p>Returns the string obtained by replacing the find string with the replace string in the inputted string. For example, <code>&quot;The cow jumps over the moon and moos&quot;.replace(&quot;oo&quot;, &quot;ee&quot;)</code> returns the string “The cow jumps over the meen and mees”. Find can be a regex pattern. For example, <code>&quot;The cow jumps over the moon and moos&quot;.replace(/\s+/, &quot;_&quot;)</code> will return “The_cow_jumps_over_the_moon_and_moos”.</p>
<p>You cannot find or replace nulls with this, as null is not a string. You can instead:</p>
<ol>
<li>Facet by null and then bulk-edit them to a string, or</li>
<li>Transform the column with an expression such as <code>if(value==null,&quot;new&quot;,value)</code>.</li>
</ol>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="replacecharss-s-find-s-replace">replaceChars(s, s find, s replace)<a href="#replacecharss-s-find-s-replace" class="hash-link" aria-label="Direct link to replaceChars(s, s find, s replace)" title="Direct link to replaceChars(s, s find, s replace)">​</a></h6>
<p>Returns the string obtained by replacing a character in s, identified by find, with the corresponding character identified in replace. For example, <code>&quot;Téxt thát was optícálly recógnízéd&quot;.replaceChars(&quot;áéíóú&quot;, &quot;aeiou&quot;)</code> returns the string “Text that was optically recognized”. You cannot use this to replace a single character with more than one character.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="replaceeach-s-a-find-a-replace">replaceEach(s, a find, a replace)<a href="#replaceeach-s-a-find-a-replace" class="hash-link" aria-label="Direct link to replaceEach(s, a find, a replace)" title="Direct link to replaceEach(s, a find, a replace)">​</a></h6>
<p>Returns the string obtained by replacing each element in s of a find array with the corresponding element of a replace array, sequentially. For example, <code>&quot;The cow jumps over the moon and moos&quot;.replaceEach([&quot;th&quot;, &quot;moo&quot;], [&quot;ex&quot;, &quot;mee&quot;])</code> returns the string “The cow jumps over exe meen and mees”.</p>
<p>The length of the find array must be the same as the length of the replace array. If the length of the find array is greater than the length of the replace array, the last element of the replace array is used for all remaining elements in the find array.</p>
<p>This function is available since OpenRefine 3.6.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="finds-sub-or-p">find(s, sub or p)<a href="#finds-sub-or-p" class="hash-link" aria-label="Direct link to find(s, sub or p)" title="Direct link to find(s, sub or p)">​</a></h6>
<p>Outputs an array of all consecutive substrings inside string s that match the substring or <a href="/docs/manual/expressions#grel-supported-regex">regex</a> pattern p. For example, <code>&quot;abeadsabmoloei&quot;.find(/[aeio]+/)</code> would result in the array [ &quot;a&quot;, &quot;ea&quot;, &quot;a&quot;, &quot;o&quot;, &quot;oei&quot; ].</p>
<p>You can supply a substring instead of p, by putting it in quotes, and OpenRefine will compile it into a regex pattern. Anytime you supply quotes, OpenRefine interprets the contents as a string, not regex. If you wish to use any regex notation, wrap the pattern in forward slashes.</p>
<div class="theme-admonition theme-admonition-tip admonition_yYQ_ alert alert--success"><div class="admonitionHeading_IpSB"><span class="admonitionIcon_jG7y"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_svb2"><p>See also <a href="/docs/manual/grelfunctions#matchs-p">match()</a></p></div></div>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="matchs-p">match(s, p)<a href="#matchs-p" class="hash-link" aria-label="Direct link to match(s, p)" title="Direct link to match(s, p)">​</a></h6>
<p>Attempts to match the string s in its entirety against the <a href="/docs/manual/expressions#grel-supported-regex">regex</a> pattern p and, if the pattern is found, outputs an array of all <a href="https://www.regular-expressions.info/brackets.html" target="_blank" rel="noopener noreferrer">capturing groups</a> (found in order). For example, <code>&quot;230.22398, 12.3480&quot;.match(/.*(\d\d\d\d)/)</code> returns an array of 1 substring: [ &quot;3480&quot; ]. It does not find 2239 as the first sequence with four digits, because the regex indicates the four digits must come at the end of the string.</p>
<p>You will need to convert the array to a string to store it in a cell, with a function such as toString(). An empty array [] is returned when there is no match to the desired substrings. A null is output when the entire regex does not match.</p>
<p>Remember to enclose your regex in forward slashes, and to escape characters and use parentheses as needed. Parentheses denote a desired substring (capturing group); for example, “.*(\d\d\d\d)” would return an array containing a single value, while “(.*)(\d\d\d\d)” would return two. So, if you are looking for a desired substring anywhere within a string, use the syntax <code>value.match(/.*(desired-substring-regex).*/)</code>.</p>
<p>For example, if <code>value</code> is “hello 123456 goodbye”, the following would occur:</p>
<table><thead><tr><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td><code>value.match(/\d{6}/)</code></td><td>null (does not match the full string)</td></tr><tr><td><code>value.match(/.*\d{6}.*/)</code></td><td>[ ] (no indicated substring)</td></tr><tr><td><code>value.match(/.*(\d{6}).*/)</code></td><td>[ &quot;123456&quot; ] (array with one value)</td></tr><tr><td><code>value.match(/(.*)(\d{6})(.*)/)</code></td><td>[ &quot;hello &quot;, &quot;123456&quot;, &quot; goodbye&quot; ] (array with three values)</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-tip admonition_yYQ_ alert alert--success"><div class="admonitionHeading_IpSB"><span class="admonitionIcon_jG7y"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_svb2"><p>See also <a href="/docs/manual/grelfunctions#finds-sub-or-p">find()</a></p></div></div>
<h3 class="anchor anchorWithStickyNavbar__YFU" id="string-parsing-and-splitting">String parsing and splitting<a href="#string-parsing-and-splitting" class="hash-link" aria-label="Direct link to String parsing and splitting" title="Direct link to String parsing and splitting">​</a></h3>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="tonumbers">toNumber(s)<a href="#tonumbers" class="hash-link" aria-label="Direct link to toNumber(s)" title="Direct link to toNumber(s)">​</a></h6>
<p>Returns a string converted to a number. Will attempt to convert other formats into a string, then into a number. If the value is already a number, it will return the number.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="splits-s-or-p-sep-b-preservetokens-optional">split(s, s or p sep, b preserveTokens (optional))<a href="#splits-s-or-p-sep-b-preservetokens-optional" class="hash-link" aria-label="Direct link to split(s, s or p sep, b preserveTokens (optional))" title="Direct link to split(s, s or p sep, b preserveTokens (optional))">​</a></h6>
<p>Returns the array of strings obtained by splitting s by sep. The separator can be either a string or a regex pattern. For example, <code>&quot;fire, water, earth, air&quot;.split(&quot;,&quot;)</code> returns an array of 4 strings: [ &quot;fire&quot;, &quot; water&quot;, &quot; earth&quot;, &quot; air&quot; ]. Note that the space characters are retained but the separator is removed. If you include “true” for the preserveTokens boolean, empty segments are preserved.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="splitbylengthss-n1-n2">splitByLengths(s, n1, n2, ...)<a href="#splitbylengthss-n1-n2" class="hash-link" aria-label="Direct link to splitByLengths(s, n1, n2, ...)" title="Direct link to splitByLengths(s, n1, n2, ...)">​</a></h6>
<p>Returns the array of strings obtained by splitting s into substrings with the given lengths. For example, <code>&quot;internationalization&quot;.splitByLengths(5, 6, 3)</code> returns an array of 3 strings: [ &quot;inter&quot;, &quot;nation&quot;, &quot;ali&quot; ]. Excess characters are discarded from the output array.</p>
<p>Like other functions that return an array, it also allows array slicing on the returned array. In that case, it returns the array consisting of a subset of elements between i1 and (i2 – 1).
For example,</p>
<table><thead><tr><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td><code>&quot;internationalization&quot;.splitByLengths(5, 6, 3)[0,3]</code></td><td>Returns an array of 3 strings: [ &quot;inter&quot;, &quot;nation&quot;, “ali” .</td></tr><tr><td><code>&quot;internationalization&quot;.splitByLengths(5, 6, 3)[0,2]</code></td><td>Returns an array of 2 strings: [ &quot;inter&quot;, &quot;nation&quot; ]</td></tr><tr><td><code>&quot;internationalization&quot;.splitByLengths(5, 6, 3)[1,3]</code></td><td>Returns an array of 2 string: [ &quot;nation&quot;, “ali” ]</td></tr><tr><td><code>&quot;internationalization&quot;.splitByLengths(5, 6, 3)[1]</code></td><td>Returns string at position 1: &quot;nation&quot;</td></tr></tbody></table>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="smartsplits-s-or-p-sep-optional">smartSplit(s, s or p sep (optional))<a href="#smartsplits-s-or-p-sep-optional" class="hash-link" aria-label="Direct link to smartSplit(s, s or p sep (optional))" title="Direct link to smartSplit(s, s or p sep (optional))">​</a></h6>
<p>Returns the array of strings obtained by splitting s by sep, or by guessing either tab or comma separation if there is no sep given. Handles quotes properly and understands cancelled characters. The separator can be either a string or a regex pattern. For example, <code>value.smartSplit(&quot;\n&quot;)</code> will split at a carriage return or a new-line character.</p>
<p>Note: <a href="#escapes-s-mode"><code>value.escape(&#x27;javascript&#x27;)</code></a> is useful for previewing unprintable characters prior to using smartSplit().</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="splitbychartypes">splitByCharType(s)<a href="#splitbychartypes" class="hash-link" aria-label="Direct link to splitByCharType(s)" title="Direct link to splitByCharType(s)">​</a></h6>
<p>Returns an array of strings obtained by splitting s into groups of consecutive characters each time the characters change <a href="https://en.wikipedia.org/wiki/Unicode_character_property#General_Category" target="_blank" rel="noopener noreferrer">Unicode categories</a>. For example, <code>&quot;HenryCTaylor&quot;.splitByCharType()</code> will result in an array of [ &quot;H&quot;, &quot;enry&quot;, &quot;CT&quot;, &quot;aylor&quot; ]. It is useful for separating letters and numbers: <code>&quot;BE1A3E&quot;.splitByCharType()</code> will result in [ &quot;BE&quot;, &quot;1&quot;, &quot;A&quot;, &quot;3&quot;, &quot;E&quot; ].</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="partitions-s-or-p-fragment-b-omitfragment-optional">partition(s, s or p fragment, b omitFragment (optional))<a href="#partitions-s-or-p-fragment-b-omitfragment-optional" class="hash-link" aria-label="Direct link to partition(s, s or p fragment, b omitFragment (optional))" title="Direct link to partition(s, s or p fragment, b omitFragment (optional))">​</a></h6>
<p>Returns an array of strings [ a, fragment, z ] where a is the substring within s before the first occurrence of fragment, and z is the substring after fragment. Fragment can be a string or a regex. For example, <code>&quot;internationalization&quot;.partition(&quot;nation&quot;)</code> returns 3 strings: [ &quot;inter&quot;, &quot;nation&quot;, &quot;alization&quot; ]. If s does not contain fragment, it returns an array of [ s, &quot;&quot;, &quot;&quot; ] (the original unpartitioned string, and two empty strings).</p>
<p>If the omitFragment boolean is true, for example with <code>&quot;internationalization&quot;.partition(&quot;nation&quot;, true)</code>, the fragment is not returned. The output is [ &quot;inter&quot;, &quot;alization&quot; ].</p>
<p>As an example of using a regex for the fragment, the expression <code>&quot;abcdefgh&quot;.partition(/c.e/)</code> will output  [&quot;ab&quot;, &quot;cde&quot;, &quot;fgh&quot; ].</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="rpartitions-s-or-p-fragment-b-omitfragment-optional">rpartition(s, s or p fragment, b omitFragment (optional))<a href="#rpartitions-s-or-p-fragment-b-omitfragment-optional" class="hash-link" aria-label="Direct link to rpartition(s, s or p fragment, b omitFragment (optional))" title="Direct link to rpartition(s, s or p fragment, b omitFragment (optional))">​</a></h6>
<p>Returns an array of strings [ a, fragment, z ] where a is the substring within s before the last occurrence of fragment, and z is the substring after the last instance of fragment. (Rpartition means “reverse partition.”) For example, <code>&quot;parallel&quot;.rpartition(&quot;a&quot;)</code> returns 3 strings: [ &quot;par&quot;, &quot;a&quot;, &quot;llel&quot; ]. Otherwise works identically to partition() above.</p>
<h3 class="anchor anchorWithStickyNavbar__YFU" id="encoding-and-hashing">Encoding and hashing<a href="#encoding-and-hashing" class="hash-link" aria-label="Direct link to Encoding and hashing" title="Direct link to Encoding and hashing">​</a></h3>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="diffs1-s2-s-timeunit-optional">diff(s1, s2, s timeUnit (optional))<a href="#diffs1-s2-s-timeunit-optional" class="hash-link" aria-label="Direct link to diff(s1, s2, s timeUnit (optional))" title="Direct link to diff(s1, s2, s timeUnit (optional))">​</a></h6>
<p>Takes two strings and compares them, returning a string. Returns the remainder of s2 starting with the first character where they differ. For example, <code>&quot;cacti&quot;.diff(&quot;cactus&quot;)</code> returns &quot;us&quot;. Also works with dates; see <a href="#diffd1-d2-s-timeunit">Date functions</a>.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="escapes-s-mode">escape(s, s mode)<a href="#escapes-s-mode" class="hash-link" aria-label="Direct link to escape(s, s mode)" title="Direct link to escape(s, s mode)">​</a></h6>
<p>Escapes s in the given escaping mode. The mode can be one of: &quot;html&quot;, &quot;xml&quot;, &quot;csv&quot;, &quot;url&quot;, &quot;javascript&quot;. Note that quotes are required around your mode. See the <a href="https://github.com/OpenRefine/OpenRefine/wiki/Recipes#question-marks--showing-in-your-data" target="_blank" rel="noopener noreferrer">recipes</a> for examples of escaping and unescaping.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="unescapes-s-mode">unescape(s, s mode)<a href="#unescapes-s-mode" class="hash-link" aria-label="Direct link to unescape(s, s mode)" title="Direct link to unescape(s, s mode)">​</a></h6>
<p>Unescapes s in the given escaping mode. The mode can be one of: &quot;html&quot;, &quot;xml&quot;, &quot;csv&quot;, &quot;url&quot;, &quot;javascript&quot;. Note that quotes are required around your mode. See the <a href="https://github.com/OpenRefine/OpenRefine/wiki/Recipes#atampampt----att" target="_blank" rel="noopener noreferrer">recipes</a> for examples of escaping and unescaping.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="encodes-s-encoding">encode(s, s encoding)<a href="#encodes-s-encoding" class="hash-link" aria-label="Direct link to encode(s, s encoding)" title="Direct link to encode(s, s encoding)">​</a></h6>
<p>Encodes the string, s in the specified encoding. The encoding can be one of: &quot;base16&quot;, &quot;base32&quot;, &quot;base32hex&quot;, &quot;base64&quot;, &quot;base64url&quot;. For example, <code>encode(&quot;abc&quot;, &quot;base64&quot;)</code> returns &quot;YWJj&quot;.</p>
<p>This function is available since OpenRefine 3.6.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="decodes-s-encoding">decode(s, s encoding)<a href="#decodes-s-encoding" class="hash-link" aria-label="Direct link to decode(s, s encoding)" title="Direct link to decode(s, s encoding)">​</a></h6>
<p>Decodes the string, s in the specified encoding. The encoding can be one of: &quot;base16&quot;, &quot;base32&quot;, &quot;base32hex&quot;, &quot;base64&quot;, &quot;base64url&quot;. For example, <code>decode(&quot;YWJj&quot;, &quot;base64&quot;)</code> returns &quot;abc&quot;.</p>
<p>This function is available since OpenRefine 3.6.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="md5o">md5(o)<a href="#md5o" class="hash-link" aria-label="Direct link to md5(o)" title="Direct link to md5(o)">​</a></h6>
<p>Returns the <a href="https://en.wikipedia.org/wiki/MD5" target="_blank" rel="noopener noreferrer">MD5 hash</a> of an object. If fed something other than a string (array, number, date, etc.), md5() will convert it to a string and deliver the hash of the string. For example, <code>&quot;internationalization&quot;.md5()</code> will return 2c55a1626e31b4e373ceedaa9adc12a3.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="sha1o">sha1(o)<a href="#sha1o" class="hash-link" aria-label="Direct link to sha1(o)" title="Direct link to sha1(o)">​</a></h6>
<p>Returns the <a href="https://en.wikipedia.org/wiki/SHA-1" target="_blank" rel="noopener noreferrer">SHA-1 hash</a> of an object. If fed something other than a string (array, number, date, etc.), sha1() will convert it to a string and deliver the hash of the string. For example, <code>&quot;internationalization&quot;.sha1()</code> will return cd05286ee0ff8a830dbdc0c24f1cb68b83b0ef36.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="phonetics-s-encoding">phonetic(s, s encoding)<a href="#phonetics-s-encoding" class="hash-link" aria-label="Direct link to phonetic(s, s encoding)" title="Direct link to phonetic(s, s encoding)">​</a></h6>
<p>Returns a phonetic encoding of a string, based on an available phonetic algorithm. See the <a href="/docs/manual/cellediting#clustering-methods">section on phonetic clustering</a> for more information. Can be one of the following supported phonetic methods: <a href="https://www.wikipedia.org/wiki/Metaphone" target="_blank" rel="noopener noreferrer">metaphone, doublemetaphone, metaphone3</a>, <a href="https://en.wikipedia.org/wiki/Soundex" target="_blank" rel="noopener noreferrer">soundex</a>, <a href="https://en.wikipedia.org/wiki/Cologne_phonetics" target="_blank" rel="noopener noreferrer">cologne</a>. Quotes are required around your encoding method. For example, <code>&quot;Ruth Prawer Jhabvala&quot;.phonetic(&quot;metaphone&quot;)</code> outputs the string “R0PRWRJHBFL”.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="reinterprets-s-encodertarget-s-encodersource">reinterpret(s, s encoderTarget, s encoderSource)<a href="#reinterprets-s-encodertarget-s-encodersource" class="hash-link" aria-label="Direct link to reinterpret(s, s encoderTarget, s encoderSource)" title="Direct link to reinterpret(s, s encoderTarget, s encoderSource)">​</a></h6>
<p>Returns s reinterpreted through the given character encoders. You must supply one of the <a href="http://java.sun.com/j2se/1.5.0/docs/guide/intl/encoding.doc.html" target="_blank" rel="noopener noreferrer">supported encodings</a> for each of the original source and the target output. Note that quotes are required around your character encoder.</p>
<p>When an OpenRefine project is started, data is imported and interpreted. A specific character encoding is identified or manually selected at that time (such as UTF-8). You can reinterpret a column into another specificed encoding using this function. This function may not fix your data; it may be better to use this in conjunction with new projects to test the interpretation, and pre-format your data as needed.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="fingerprints">fingerprint(s)<a href="#fingerprints" class="hash-link" aria-label="Direct link to fingerprint(s)" title="Direct link to fingerprint(s)">​</a></h6>
<p>Returns the fingerprint of s, a string that is the first step in <a href="/docs/manual/cellediting#clustering-methods">fingerprint clustering methods</a>: it will trim whitespaces, convert all characters to lowercase, remove punctuation, sort words alphabetically, etc. For example, <code>&quot;Ruth  Prawer    Jhabvala&quot;.fingerprint()</code> outputs the string “jhabvala prawer ruth”.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="ngrams-n">ngram(s, n)<a href="#ngrams-n" class="hash-link" aria-label="Direct link to ngram(s, n)" title="Direct link to ngram(s, n)">​</a></h6>
<p>Returns an array of the word n-grams of s. That is, it lists all the possible consecutive combinations of n words in the string. For example, <code>&quot;Ruth Prawer Jhabvala&quot;.ngram(2)</code> would output the array [ &quot;Ruth Prawer&quot;, &quot;Prawer Jhabvala&quot; ]. A word n-gram of 1 simply lists all the words in original order; an n-gram larger than the number of words in the string will only return the original string inside an array (e.g. <code>&quot;Ruth Prawer Jhabvala&quot;.ngram(4)</code> would simply return [&quot;Ruth Prawer Jhabvala&quot;]).</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="ngramfingerprints-n">ngramFingerprint(s, n)<a href="#ngramfingerprints-n" class="hash-link" aria-label="Direct link to ngramFingerprint(s, n)" title="Direct link to ngramFingerprint(s, n)">​</a></h6>
<p>Returns the <a href="/docs/manual/cellediting#clustering-methods">n-gram fingerprint</a> of s. For example, <code>&quot;banana&quot;.ngram(2)</code> would output “anbana”, after first generating the 2-grams “ba an na an na”, removing duplicates, and sorting them alphabetically.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="unicodes">unicode(s)<a href="#unicodes" class="hash-link" aria-label="Direct link to unicode(s)" title="Direct link to unicode(s)">​</a></h6>
<p>Returns an array of strings describing each character of s in their full unicode notation. For example, <code>&quot;Bernice Rubens&quot;.unicode()</code> outputs [ 66, 101, 114, 110, 105, 99, 101, 32, 82, 117, 98, 101, 110, 115 ].</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="unicodetypes">unicodeType(s)<a href="#unicodetypes" class="hash-link" aria-label="Direct link to unicodeType(s)" title="Direct link to unicodeType(s)">​</a></h6>
<p>Returns an array of strings describing each character of s by their unicode type. For example, <code>&quot;Bernice Rubens&quot;.unicodeType()</code> outputs [ &quot;uppercase letter&quot;, &quot;lowercase letter&quot;, &quot;lowercase letter&quot;, &quot;lowercase letter&quot;, &quot;lowercase letter&quot;, &quot;lowercase letter&quot;, &quot;lowercase letter&quot;, &quot;space separator&quot;, &quot;uppercase letter&quot;, &quot;lowercase letter&quot;, &quot;lowercase letter&quot;, &quot;lowercase letter&quot;, &quot;lowercase letter&quot;, &quot;lowercase letter&quot; ].</p>
<h3 class="anchor anchorWithStickyNavbar__YFU" id="translating">Translating<a href="#translating" class="hash-link" aria-label="Direct link to Translating" title="Direct link to Translating">​</a></h3>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="detectlanguages">detectLanguage(s)<a href="#detectlanguages" class="hash-link" aria-label="Direct link to detectLanguage(s)" title="Direct link to detectLanguage(s)">​</a></h6>
<p>Returns a string locale describing the language of s, with support for 71 languages as stated <a href="https://github.com/optimaize/language-detector#71-built-in-language-profiles" target="_blank" rel="noopener noreferrer">here</a>. For example, <code>&quot;Hello, world!&quot;.detectLanguage()</code> outputs &quot;en&quot;.</p>
<p>This function is available since OpenRefine 3.6.</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="format-based-functions-json-html-xml">Format-based functions (JSON, HTML, XML)<a href="#format-based-functions-json-html-xml" class="hash-link" aria-label="Direct link to Format-based functions (JSON, HTML, XML)" title="Direct link to Format-based functions (JSON, HTML, XML)">​</a></h2>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="jsonizeo">jsonize(o)<a href="#jsonizeo" class="hash-link" aria-label="Direct link to jsonize(o)" title="Direct link to jsonize(o)">​</a></h6>
<p>Quotes a value as a JSON literal value.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="parsejsons">parseJson(s)<a href="#parsejsons" class="hash-link" aria-label="Direct link to parseJson(s)" title="Direct link to parseJson(s)">​</a></h6>
<p>Parses a string as JSON. get() can then be used with parseJson(): for example, <code>parseJson(&quot; { &#x27;a&#x27; : 1 } &quot;).get(&quot;a&quot;)</code> returns 1.</p>
<p>For example, from the following JSON array in <code>value</code>, we want to get all instances of “keywords” having the same object string name of “text”, and combine them, using the forEach() function to iterate over the array.</p>
<div class="language-json codeBlockContainer_WtFl theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_pLfi"><pre tabindex="0" class="prism-code language-json codeBlock__6v4 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_Ofhx"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       &quot;status&quot;:&quot;OK&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       &quot;url&quot;:&quot;&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       &quot;language&quot;:&quot;english&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       &quot;keywords&quot;:[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             &quot;text&quot;:&quot;York en route&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             &quot;relevance&quot;:&quot;0.974363&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             &quot;text&quot;:&quot;Anthony Eden&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             &quot;relevance&quot;:&quot;0.814394&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             &quot;text&quot;:&quot;President Eisenhower&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">             &quot;relevance&quot;:&quot;0.700189&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup_TdkF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_x2pO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_M8dX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Dndh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The GREL expression <code>forEach(value.parseJson().keywords,v,v.text).join(&quot;:::&quot;)</code> will output “York en route:::Anthony Eden:::President Eisenhower”.</p>
<h3 class="anchor anchorWithStickyNavbar__YFU" id="jsoup-xml-and-html-parsing">Jsoup XML and HTML parsing<a href="#jsoup-xml-and-html-parsing" class="hash-link" aria-label="Direct link to Jsoup XML and HTML parsing" title="Direct link to Jsoup XML and HTML parsing">​</a></h3>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="parsehtmls">parseHtml(s)<a href="#parsehtmls" class="hash-link" aria-label="Direct link to parseHtml(s)" title="Direct link to parseHtml(s)">​</a></h6>
<p>Given a cell full of HTML-formatted text, parseHtml() simplifies HTML tags (such as by removing “ /” at the end of self-closing tags), closes any unclosed tags, and inserts linebreaks and indents for cleaner code. You cannot pass parseHtml() a URL, but you can pre-fetch HTML with the <span class="menuItems"><a href="/docs/manual/columnediting#add-column-by-fetching-urls">Add column by fetching URLs</a></span> menu option.</p>
<p>A cell cannot store the output of parseHtml() unless you convert it with toString(): for example, <code>value.parseHtml().toString()</code>.</p>
<p>When parseHtml() simplifies HTML, it can sometimes introduce errors. When closing tags, it makes its best guesses based on line breaks, indentation, and the presence of other tags. You may need to manually check the results.</p>
<p>You can then extract or <a href="#selects-element">select()</a> which portions of the HTML document you need for further splitting, partitioning, etc. An example of extracting all table rows from a div using parseHtml().select() together is described more in depth at <a href="https://github.com/OpenRefine/OpenRefine/wiki/StrippingHTML" target="_blank" rel="noopener noreferrer">StrippingHTML</a>.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="parsexmls">parseXml(s)<a href="#parsexmls" class="hash-link" aria-label="Direct link to parseXml(s)" title="Direct link to parseXml(s)">​</a></h6>
<p>Given a cell full of XML-formatted text, parseXml() returns a full XML document and adds any missing closing tags. You can then extract or <a href="#selects-element">select()</a> which portions of the XML document you need for further splitting, partitioning, etc. Functions the same way as parseHtml() is described above.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="selects-element">select(s, element)<a href="#selects-element" class="hash-link" aria-label="Direct link to select(s, element)" title="Direct link to select(s, element)">​</a></h6>
<p>Returns an array of all the desired elements from an HTML or XML document, if the element exists. Elements are identified using the <a href="https://jsoup.org/apidocs/org/jsoup/select/Selector.html" target="_blank" rel="noopener noreferrer">Jsoup selector syntax</a>. For example, <code>value.parseHtml().select(&quot;img.portrait&quot;)[0]</code> would return the entirety of the first “img” tag with the “portrait” class found in the parsed HTML inside <code>value</code>. Returns an empty array if no matching element is found. Use with toString() to capture the results in a cell. A tutorial of select() is shown in <a href="https://github.com/OpenRefine/OpenRefine/wiki/StrippingHTML" target="_blank" rel="noopener noreferrer">StrippingHTML</a>.</p>
<p>You can use select() more than once:</p>
<div class="codeBlockContainer_WtFl theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_pLfi"><pre tabindex="0" class="prism-code language-text codeBlock__6v4 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_Ofhx"><span class="token-line" style="color:#bfc7d5"><span class="token plain">value.parseHtml().select(&quot;div#content&quot;)[0].select(&quot;tr&quot;).toString()</span><br></span></code></pre><div class="buttonGroup_TdkF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_x2pO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_M8dX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Dndh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="htmlattrs-element">htmlAttr(s, element)<a href="#htmlattrs-element" class="hash-link" aria-label="Direct link to htmlAttr(s, element)" title="Direct link to htmlAttr(s, element)">​</a></h6>
<p>Returns a string from an attribute on an HTML element. Use it in conjunction with parseHtml() as in the following example: <code>value.parseHtml().select(&quot;a.email&quot;)[0].htmlAttr(&quot;href&quot;)</code> would retrieve the email address attached to a link with the “email” class.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="xmlattrs-element">xmlAttr(s, element)<a href="#xmlattrs-element" class="hash-link" aria-label="Direct link to xmlAttr(s, element)" title="Direct link to xmlAttr(s, element)">​</a></h6>
<p>Returns a string from an attribute on an XML element. Functions the same way htmlAttr() is described above. Use it in conjunction with parseXml().</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="htmltextelement">htmlText(element)<a href="#htmltextelement" class="hash-link" aria-label="Direct link to htmlText(element)" title="Direct link to htmlText(element)">​</a></h6>
<p>Returns a string of the text from within an HTML element (including all child elements), removing HTML tags and line breaks inside the string. Use it in conjunction with parseHtml() and select() to provide an element, as in the following example: <code>value.parseHtml().select(&quot;div.footer&quot;)[0].htmlText()</code>.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="xmltextelement">xmlText(element)<a href="#xmltextelement" class="hash-link" aria-label="Direct link to xmlText(element)" title="Direct link to xmlText(element)">​</a></h6>
<p>Returns a string of the text from within an XML element (including all child elements). Functions the same way htmlText() is described above. Use it in conjunction with parseXml() and select() to provide an element.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="wholetextelement">wholeText(element)<a href="#wholetextelement" class="hash-link" aria-label="Direct link to wholeText(element)" title="Direct link to wholeText(element)">​</a></h6>
<p>Selects the (unencoded) text of an element and its children, including any new lines and spaces, and returns a string of unencoded, un-normalized text. Use it in conjunction with parseHtml() and select() to provide an element as in the following example: <code>value.parseHtml().select(&quot;div.footer&quot;)[0].wholeText()</code>.</p>
<p>This function is available since OpenRefine 3.5.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="innerhtmlelement">innerHtml(element)<a href="#innerhtmlelement" class="hash-link" aria-label="Direct link to innerHtml(element)" title="Direct link to innerHtml(element)">​</a></h6>
<p>Returns the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/innerHTML" target="_blank" rel="noopener noreferrer">inner HTML</a> of an HTML element. This will include text and children elements within the element selected. Use it in conjunction with parseHtml() and select() to provide an element.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="innerxmlelement">innerXml(element)<a href="#innerxmlelement" class="hash-link" aria-label="Direct link to innerXml(element)" title="Direct link to innerXml(element)">​</a></h6>
<p>Returns the inner XML elements of an XML element. Does not return the text directly inside your chosen XML element - only the contents of its children. To select the direct text, use ownText(). To select both, use xmlText(). Use it in conjunction with parseXml() and select() to provide an element.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="owntextelement">ownText(element)<a href="#owntextelement" class="hash-link" aria-label="Direct link to ownText(element)" title="Direct link to ownText(element)">​</a></h6>
<p>Returns the text directly inside the selected XML or HTML element only, ignoring text inside children elements (for this, use innerXml()). Use it in conjunction with a parser and select() to provide an element.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="parentelement">parent(element)<a href="#parentelement" class="hash-link" aria-label="Direct link to parent(element)" title="Direct link to parent(element)">​</a></h6>
<p>Returns the parent node or null if no parent. Use it in conjunction with parseHtml() and select() to provide an element.</p>
<p>This function is available since OpenRefine 3.6.</p>
<h3 class="anchor anchorWithStickyNavbar__YFU" id="uri-parsing">URI parsing<a href="#uri-parsing" class="hash-link" aria-label="Direct link to URI parsing" title="Direct link to URI parsing">​</a></h3>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="parseUris">parseUri(s)<a href="#parseUris" class="hash-link" aria-label="Direct link to parseUri(s)" title="Direct link to parseUri(s)">​</a></h6>
<p>Given a valid URI string (for example: <a href="https://www.openrefine.org:80/documentation#download?format=xml&amp;os=mac" target="_blank" rel="noopener noreferrer">https://www.openrefine.org:80/documentation#download?format=xml&amp;os=mac</a>), parseUri() returns a JSON object with the following properties:</p>
<ul>
<li><code>scheme</code>: The scheme of the URI, e.g. <code>http</code></li>
<li><code>host</code>: the host of the URI (e.g. <code>www.openrefine.org</code>)</li>
<li><code>port</code>: the port of the URI (e.g. <code>80</code>)</li>
<li><code>path</code>: the path of the URI (e.g. <code>/documentation</code>)</li>
<li><code>query</code>: the query of the URI (e.g. <code>format=xml&amp;os=mac</code>)</li>
<li><code>authority</code>: the authority of the URI (e.g. <code>www.openrefine.org:80</code>)</li>
<li><code>fragment</code>: the fragment of the URI (e.g. <code>download</code>)</li>
<li><code>query_params</code>: the query of the URI as an object (e.g. <code>{format: &quot;xml&quot;, os: &quot;mac&quot;}</code>)</li>
</ul>
<p>This function is available since OpenRefine 3.6.</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="array-functions">Array functions<a href="#array-functions" class="hash-link" aria-label="Direct link to Array functions" title="Direct link to Array functions">​</a></h2>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="lengtha">length(a)<a href="#lengtha" class="hash-link" aria-label="Direct link to length(a)" title="Direct link to length(a)">​</a></h6>
<p>Returns the size of an array, meaning the number of objects inside it. Arrays can be empty, in which case length() will return 0.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="slicea-n-from-n-to-optional">slice(a, n from, n to (optional))<a href="#slicea-n-from-n-to-optional" class="hash-link" aria-label="Direct link to slice(a, n from, n to (optional))" title="Direct link to slice(a, n from, n to (optional))">​</a></h6>
<p>Returns a sub-array of a given array, from the first index provided and up to and excluding the optional last index provided. Remember that array objects are indexed starting at 0. If the to value is omitted, it is understood to be the end of the array. For example, <code>[0, 1, 2, 3, 4].slice(1, 3)</code> returns [ 1, 2 ], and <code>[ 0, 1, 2, 3, 4].slice(2)</code> returns [ 2, 3, 4 ]. Also works with strings; see <a href="#slices-n-from-n-to-optional">String functions</a>.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="geta-n-from-n-to-optional">get(a, n from, n to (optional))<a href="#geta-n-from-n-to-optional" class="hash-link" aria-label="Direct link to get(a, n from, n to (optional))" title="Direct link to get(a, n from, n to (optional))">​</a></h6>
<p>Returns a sub-array of a given array, from the first index provided and up to and excluding the optional last index provided. Remember that array objects are indexed starting at 0.</p>
<p>If the to value is omitted, only one array item is returned, as a string, instead of a sub-array. To return a sub-array from one index to the end, you can set the to argument to a very high number such as <code>value.get(2,999)</code> or you can use something like <code>with(value,a,a.get(1,a.length()))</code> to count the length of each array.</p>
<p>Also works with strings; see <a href="#gets-n-from-n-to-optional">String functions</a>.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="inarraya-s">inArray(a, s)<a href="#inarraya-s" class="hash-link" aria-label="Direct link to inArray(a, s)" title="Direct link to inArray(a, s)">​</a></h6>
<p>Returns true if the array contains the desired string, and false otherwise. Will not convert data types; for example, <code>[ 1, 2, 3, 4 ].inArray(&quot;3&quot;)</code> will return false.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="reversea">reverse(a)<a href="#reversea" class="hash-link" aria-label="Direct link to reverse(a)" title="Direct link to reverse(a)">​</a></h6>
<p>Reverses the array. For example, <code>[ 0, 1, 2, 3].reverse()</code> returns the array [ 3, 2, 1, 0 ].</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="sorta">sort(a)<a href="#sorta" class="hash-link" aria-label="Direct link to sort(a)" title="Direct link to sort(a)">​</a></h6>
<p>Sorts the array in ascending order. Sorting is case-sensitive, uppercase first and lowercase second. For example, <code>[ &quot;al&quot;, &quot;Joe&quot;, &quot;Bob&quot;, &quot;jim&quot; ].sort()</code> returns the array [ &quot;Bob&quot;, &quot;Joe&quot;, &quot;al&quot;, &quot;jim&quot; ].</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="suma">sum(a)<a href="#suma" class="hash-link" aria-label="Direct link to sum(a)" title="Direct link to sum(a)">​</a></h6>
<p>Return the sum of the numbers in the array. For example, <code>[ 2, 1, 0, 3 ].sum()</code> returns 6.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="joina-sep">join(a, sep)<a href="#joina-sep" class="hash-link" aria-label="Direct link to join(a, sep)" title="Direct link to join(a, sep)">​</a></h6>
<p>Joins the items in the array with sep, and returns it all as a string. For example, <code>[ &quot;and&quot;, &quot;or&quot;, &quot;not&quot; ].join(&quot;/&quot;)</code> returns the string “and/or/not”.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="uniquesa">uniques(a)<a href="#uniquesa" class="hash-link" aria-label="Direct link to uniques(a)" title="Direct link to uniques(a)">​</a></h6>
<p>Returns the array with duplicates removed. Case-sensitive. For example, <code>[ &quot;al&quot;, &quot;Joe&quot;, &quot;Bob&quot;, &quot;Joe&quot;, &quot;Al&quot;, &quot;Bob&quot; ].uniques()</code> returns the array [ &quot;Joe&quot;, &quot;al&quot;, &quot;Al&quot;, &quot;Bob&quot; ].</p>
<p>As of OpenRefine 3.4.1, uniques() reorders the array items it returns; in 3.4 beta 644 and onwards, it preserves the original order (in this case, [ &quot;al&quot;, &quot;Joe&quot;, &quot;Bob&quot;, &quot;Al&quot; ]).</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="date-functions">Date functions<a href="#date-functions" class="hash-link" aria-label="Direct link to Date functions" title="Direct link to Date functions">​</a></h2>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="now">now()<a href="#now" class="hash-link" aria-label="Direct link to now()" title="Direct link to now()">​</a></h6>
<p>Returns the current time according to your system clock, in the <a href="/docs/manual/exploring#data-types">ISO 8601 extended format</a> (converted to UTC). For example, 10:53am (and 00 seconds) on November 26th 2020 in EST returns [date 2020-11-26T15:53:00Z].</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="todateo-b-monthfirst-s-format1-s-format2-">toDate(o, b monthFirst, s format1, s format2, ...)<a href="#todateo-b-monthfirst-s-format1-s-format2-" class="hash-link" aria-label="Direct link to toDate(o, b monthFirst, s format1, s format2, ...)" title="Direct link to toDate(o, b monthFirst, s format1, s format2, ...)">​</a></h6>
<p>Returns the inputted object converted to a date object. Without arguments, it returns the ISO 8601 extended format. With arguments, you can control the output format:</p>
<ul>
<li>monthFirst: set false if the date is formatted with the day before the month.</li>
<li>formatN: attempt to parse the date using an ordered list of possible formats. Supply formats based on the <a href="https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html" target="_blank" rel="noopener noreferrer">SimpleDateFormat</a> syntax (and see the table below for a handy reference).</li>
</ul>
<p>For example, you can parse a column containing dates in different formats, such as cells with “Nov-09” and “11/09”, using <code>value.toDate(&#x27;MM/yy&#x27;,&#x27;MMM-yy&#x27;).toString(&#x27;yyyy-MM&#x27;)</code> and both will output “2009-11”. For another example, “1/4/2012 13:30:00” can be parsed into a date using <code>value.toDate(&#x27;d/M/y H&amp;#58;m&amp;#58;s&#x27;)</code>. If parsing a date with text components in a language other than your system language you can specify a language code as the format1 argument. For example, a French language date such as &quot;10 janvier 2023&quot; could be parsed with <code>value.toDate(&#x27;fr&#x27;,&#x27;dd MMM yyyy&#x27;)</code>.</p>
<table><thead><tr><th>Letter</th><th>Date or Time Component</th><th>Presentation</th><th>Examples</th></tr></thead><tbody><tr><td>G</td><td>Era designator</td><td>Text</td><td>AD</td></tr><tr><td>y</td><td>Year</td><td>Year</td><td>1996; 96</td></tr><tr><td>Y</td><td><a href="https://en.wikipedia.org/wiki/ISO_week_date#First_week" target="_blank" rel="noopener noreferrer">Week year</a></td><td>Year</td><td>2009; 09</td></tr><tr><td>M</td><td>Month in year</td><td>Month</td><td>July; Jul; 07</td></tr><tr><td>w</td><td>Week in year</td><td>Number</td><td>27</td></tr><tr><td>W</td><td>Week in month</td><td>Number</td><td>2</td></tr><tr><td>D</td><td>Day in year</td><td>Number</td><td>189</td></tr><tr><td>d</td><td>Day in month</td><td>Number</td><td>10</td></tr><tr><td>F</td><td>Day of week in month</td><td>Number</td><td>2</td></tr><tr><td>E</td><td>Day name in week</td><td>Text</td><td>Tuesday; Tue</td></tr><tr><td>u</td><td>Day number of week (1 = Monday, ..., 7 = Sunday)</td><td>Number</td><td>1</td></tr><tr><td>a</td><td>AM/PM marker</td><td>Text</td><td>PM</td></tr><tr><td>H</td><td>Hour in day (0-23)</td><td>Number</td><td>0</td></tr><tr><td>k</td><td>Hour in day (1-24)</td><td>Number</td><td>24</td></tr><tr><td>K</td><td>Hour in AM/PM (0-11)</td><td>Number</td><td>0</td></tr><tr><td>h</td><td>Hour in AM/PM (1-12)</td><td>Number</td><td>12</td></tr><tr><td>m</td><td>Minute in hour</td><td>Number</td><td>30</td></tr><tr><td>s</td><td>Second in minute</td><td>Number</td><td>55</td></tr><tr><td>S</td><td>Millisecond</td><td>Number</td><td>978</td></tr><tr><td>n</td><td>Nanosecond</td><td>Number</td><td>789000</td></tr><tr><td>z</td><td>Time zone</td><td>General time zone</td><td>Pacific Standard Time; PST; GMT-08:00</td></tr><tr><td>Z</td><td>Time zone</td><td>RFC 822 time zone</td><td>-0800</td></tr><tr><td>X</td><td>Time zone</td><td>ISO 8601 time zone</td><td>-08; -0800; -08:00</td></tr></tbody></table>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="diffd1-d2-s-timeunit">diff(d1, d2, s timeUnit)<a href="#diffd1-d2-s-timeunit" class="hash-link" aria-label="Direct link to diff(d1, d2, s timeUnit)" title="Direct link to diff(d1, d2, s timeUnit)">​</a></h6>
<p>Given two dates, returns a number indicating the difference in a given time unit (see the table below). For example, <code>diff((&quot;Nov-11&quot;.toDate(&#x27;MMM-yy&#x27;)), (&quot;Nov-09&quot;.toDate(&#x27;MMM-yy&#x27;)), &quot;weeks&quot;)</code> will return 104, for 104 weeks, or two years. The later date should go first. If the output is negative, invert d1 and d2.</p>
<p>Also works with strings; see <a href="#diffsd1-sd2-s-timeunit-optional">diff() in string functions</a>.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="incd-n-s-timeunit">inc(d, n, s timeUnit)<a href="#incd-n-s-timeunit" class="hash-link" aria-label="Direct link to inc(d, n, s timeUnit)" title="Direct link to inc(d, n, s timeUnit)">  ​</a></h6>
<p>Returns a date changed by the given amount in the given unit of time (see the table below). The default unit is “hour”. A positive value increases the date, and a negative value moves it back in time. For example, if you want to move a date backwards by two months, use <code>value.inc(-2,&quot;month&quot;)</code>.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="datepartd-s-timeunit">datePart(d, s timeUnit)<a href="#datepartd-s-timeunit" class="hash-link" aria-label="Direct link to datePart(d, s timeUnit)" title="Direct link to datePart(d, s timeUnit)">​</a></h6>
<p>Returns part of a date. The data type returned depends on the unit (see the table below).</p>
<p>OpenRefine supports the following values for timeUnit:</p>
<table><thead><tr><th>Unit</th><th>Date part returned</th><th>Returned data type</th><th>Example using [date 2014-03-14T05:30:04.000789000Z] as value</th></tr></thead><tbody><tr><td>years, year</td><td>Year</td><td>Number</td><td>value.datePart(&quot;years&quot;) → 2014</td></tr><tr><td>months, month</td><td>Month</td><td>Number</td><td>value.datePart(&quot;months&quot;) → 2</td></tr><tr><td>weeks, week, w</td><td>Week of the month</td><td>Number</td><td>value.datePart(&quot;weeks&quot;) → 3</td></tr><tr><td>days, day, d</td><td>Day of the month</td><td>Number</td><td>value.datePart(&quot;days&quot;) → 14</td></tr><tr><td>weekday</td><td>Day of the week</td><td>String</td><td>value.datePart(&quot;weekday&quot;) → Friday</td></tr><tr><td>hours, hour, h</td><td>Hour</td><td>Number</td><td>value.datePart(&quot;hours&quot;) → 5</td></tr><tr><td>minutes, minute, min</td><td>Minute</td><td>Number</td><td>value.datePart(&quot;minutes&quot;) → 30</td></tr><tr><td>seconds, sec, s</td><td>Seconds</td><td>Number</td><td>value.datePart(&quot;seconds&quot;) → 04</td></tr><tr><td>milliseconds, ms, S</td><td>Millseconds</td><td>Number</td><td>value.datePart(&quot;milliseconds&quot;) → 789</td></tr><tr><td>nanos, nano, n</td><td>Nanoseconds</td><td>Number</td><td>value.datePart(&quot;n&quot;) → 789000</td></tr><tr><td>time</td><td>Milliseconds between input and the <a href="https://en.wikipedia.org/wiki/Unix_time" target="_blank" rel="noopener noreferrer">Unix Epoch</a></td><td>Number</td><td>value.datePart(&quot;time&quot;) → 1394775004000</td></tr></tbody></table>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="timesinceunixepochtodateduration-scale">timeSinceUnixEpochToDate(duration, scale)<a href="#timesinceunixepochtodateduration-scale" class="hash-link" aria-label="Direct link to timeSinceUnixEpochToDate(duration, scale)" title="Direct link to timeSinceUnixEpochToDate(duration, scale)">​</a></h6>
<p>Converts a time as measured by the duration since the Unix Epoch (1970-01-01) to a date object. The second parameter indicates the unit of the duration, and can be <code>&quot;second&quot;</code>, <code>&quot;millisecond&quot;</code> or <code>&quot;microsecond&quot;</code>. If the unit is not provided, it is assumed to be <code>&quot;second&quot;</code>.</p>
<p>This function is available since OpenRefine 3.6.</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="math-functions">Math functions<a href="#math-functions" class="hash-link" aria-label="Direct link to Math functions" title="Direct link to Math functions">​</a></h2>
<p>For integer division and precision, you can use simple evaluations such as <code>1 / 2</code>, which is equivalent to <code>floor(1/2)</code> - that is, it returns only whole number results. If either operand is a floating point number, they both get promoted to floating point and a floating point result is returned. You can use <code>1 / 2.0</code> or <code>1.0 / 2</code> or <code>1.0 * x / y</code> (if you&#x27;re working with variables of unknown contents).</p>
<div class="theme-admonition theme-admonition-caution admonition_yYQ_ alert alert--warning"><div class="admonitionHeading_IpSB"><span class="admonitionIcon_jG7y"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_svb2"><p>Some of these math functions don&#x27;t recognize integers when supplied as the first argument in dot notation (e.g., <code>5.cos()</code> simply returns 5 instead of the expected result). To ensure operations are successful, always wrap the first argument in brackets, such as <code>(value).cos()</code>.</p></div></div>
<table><thead><tr><th>Function</th><th>Use</th><th>Example</th></tr></thead><tbody><tr><td><code>abs(n)</code></td><td>Returns the absolute value of a number.</td><td><code>abs(-6)</code> returns 6.</td></tr><tr><td><code>acos(n)</code></td><td>Returns the arc cosine of an angle, in the range 0 through <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#PI" target="_blank" rel="noopener noreferrer">PI</a>.</td><td><code>acos(0.345)</code> returns 1.218557541697832.</td></tr><tr><td><code>asin(n)</code></td><td>Returns the arc sine of an angle in the range of -PI/2 through PI/2.</td><td><code>asin(0.345)</code> returns 0.35223878509706474.</td></tr><tr><td><code>atan(n)</code></td><td>Returns the arc tangent of an angle in the range of -PI/2 through PI/2.</td><td><code>atan(0.345)</code> returns 0.3322135507465967.</td></tr><tr><td><code>atan2(n1, n2)</code></td><td>Converts rectangular coordinates (n1, n2) to polar (r, theta). Returns number theta.</td><td><code>atan2(0.345,0.6)</code> returns 0.5218342798144103.</td></tr><tr><td><code>ceil(n)</code></td><td>Returns the ceiling of a number.</td><td><code>3.7.ceil()</code> returns 4 and <code>-3.7.ceil()</code> returns -3.</td></tr><tr><td><code>combin(n1, n2)</code></td><td>Returns the number of combinations for n2 elements as divided into n1.</td><td><code>combin(20,2)</code> returns 190.</td></tr><tr><td><code>cos(n)</code></td><td>Returns the trigonometric cosine of a value.</td><td><code>cos(5)</code> returns 0.28366218546322625.</td></tr><tr><td><code>cosh(n)</code></td><td>Returns the hyperbolic cosine of a value.</td><td><code>cosh(5)</code> returns 74.20994852478785.</td></tr><tr><td><code>degrees(n)</code></td><td>Converts an angle from radians to degrees.</td><td><code>degrees(5)</code> returns 286.4788975654116.</td></tr><tr><td><code>even(n)</code></td><td>Rounds the number up to the nearest even integer.</td><td><code>even(5)</code> returns 6.</td></tr><tr><td><code>exp(n)</code></td><td>Returns <a href="https://en.wikipedia.org/wiki/E_(mathematical_constant)" target="_blank" rel="noopener noreferrer">e</a> raised to the power of n.</td><td><code>exp(5)</code> returns 148.4131591025766.</td></tr><tr><td><code>fact(n)</code></td><td>Returns the factorial of a number, starting from 1.</td><td><code>fact(5)</code> returns 120.</td></tr><tr><td><code>factn(n1, n2)</code></td><td>Returns the factorial of n1, starting from n2.</td><td><code>factn(10,3)</code> returns 280.</td></tr><tr><td><code>floor(n)</code></td><td>Returns the floor of a number.</td><td><code>3.7.floor()</code> returns 3 and <code>-3.7.floor()</code> returns -4.</td></tr><tr><td><code>gcd(n1, n2)</code></td><td>Returns the greatest common denominator of two numbers.</td><td><code>gcd(95,135)</code> returns 5.</td></tr><tr><td><code>lcm(n1, n2)</code></td><td>Returns the least common multiple of two numbers.</td><td><code>lcm(95,135)</code> returns 2565.</td></tr><tr><td><code>ln(n)</code></td><td>Returns the natural logarithm of n.</td><td><code>ln(5)</code> returns 1.6094379124341003.</td></tr><tr><td><code>log(n)</code></td><td>Returns the base 10 logarithm of n.</td><td><code>log(5)</code> returns 0.6989700043360189.</td></tr><tr><td><code>max(n1, n2)</code></td><td>Returns the larger of two numbers.</td><td><code>max(3,10)</code> returns 10.</td></tr><tr><td><code>min(n1, n2)</code></td><td>Returns the smaller of two numbers.</td><td><code>min(3,10)</code> returns 3.</td></tr><tr><td><code>mod(n1, n2)</code></td><td>Returns n1 modulus n2. Note: <code>value.mod(9)</code> will work, whereas <code>74.mod(9)</code> will not work.</td><td><code>mod(74, 9)</code> returns 2.</td></tr><tr><td><code>multinomial(n1, n2 …(optional))</code></td><td>Calculates the multinomial of one number or a series of numbers.</td><td><code>multinomial(2,3)</code> returns 10.</td></tr><tr><td><code>odd(n)</code></td><td>Rounds the number up to the nearest odd integer.</td><td><code>odd(10)</code> returns 11.</td></tr><tr><td><code>pow(n1, n2)</code></td><td>Returns n1 raised to the power of n2. Note: value.pow(3)<code>will work, whereas</code>2.pow(3)` will not work.</td><td><code>pow(2, 3)</code> returns 8 (2 cubed) and <code>pow(3, 2)</code> returns 9 (3 squared). The square root of any numeric value can be called with <code>value.pow(0.5)</code>.</td></tr><tr><td><code>quotient(n1, n2)</code></td><td>Returns the integer portion of a division (truncated, not rounded), when supplied with a numerator and denominator.</td><td><code>quotient(9,2)</code> returns 4.</td></tr><tr><td><code>radians(n)</code></td><td>Converts an angle in degrees to radians.</td><td><code>radians(10)</code> returns 0.17453292519943295.</td></tr><tr><td><code>random(n lowerBound, n upperBound)</code></td><td>Returns a random integer in the interval between the lower and upper bounds (inclusively). Will output a different random number in each cell in a column. If no arguments are provided, returns a number in the range <code>0.0 &lt;= x &lt; 1.0</code></td><td></td></tr><tr><td><code>round(n)</code></td><td>Rounds a number to the nearest integer.</td><td><code>3.7.round()</code> returns 4 and <code>-3.7.round()</code> returns -4.</td></tr><tr><td><code>sin(n)</code></td><td>Returns the trigonometric sine of an angle.</td><td><code>sin(10)</code> returns -0.5440211108893698.</td></tr><tr><td><code>sinh(n)</code></td><td>Returns the hyperbolic sine of an angle.</td><td><code>sinh(10)</code> returns 11013.232874703393.</td></tr><tr><td><code>sum(a)</code></td><td>Sums the numbers in an array. Ignores non-number items. Returns 0 if the array does not contain numbers.</td><td><code>sum([ 10, 2, three ])</code> returns 12.</td></tr><tr><td><code>tan(n)</code></td><td>Returns the trigonometric tangent of an angle.</td><td><code>tan(10)</code> returns 0.6483608274590866.</td></tr><tr><td><code>tanh(n)</code></td><td>Returns the hyperbolic tangent of a value.</td><td><code>tanh(10)</code> returns 0.9999999958776927.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="other-functions">Other functions<a href="#other-functions" class="hash-link" aria-label="Direct link to Other functions" title="Direct link to Other functions">​</a></h2>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="typeo">type(o)<a href="#typeo" class="hash-link" aria-label="Direct link to type(o)" title="Direct link to type(o)">​</a></h6>
<p>Returns a string with the data type of o, such as undefined, string, number, boolean, etc. For example, a <a href="/docs/manual/cellediting#transform">Transform</a> operation using <code>value.type()</code> will convert all cells in a column to strings of their data types.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="facetcountchoicevalue-s-facetexpression-s-columnname">facetCount(choiceValue, s facetExpression, s columnName)<a href="#facetcountchoicevalue-s-facetexpression-s-columnname" class="hash-link" aria-label="Direct link to facetCount(choiceValue, s facetExpression, s columnName)" title="Direct link to facetCount(choiceValue, s facetExpression, s columnName)">​</a></h6>
<p>Returns the facet count corresponding to the given choice value, by looking for the facetExpression in the choiceValue in columnName. For example, to create facet counts for the following table, we could generate a new column based on “Gift” and enter in <code>value.facetCount(&quot;value&quot;, &quot;Gift&quot;)</code>. This would add the column we&#x27;ve named “Count”:</p>
<table><thead><tr><th>Gift</th><th>Recipient</th><th>Price</th><th>Count</th></tr></thead><tbody><tr><td>lamp</td><td>Mary</td><td>20</td><td>1</td></tr><tr><td>clock</td><td>John</td><td>57</td><td>2</td></tr><tr><td>watch</td><td>Amit</td><td>80</td><td>1</td></tr><tr><td>clock</td><td>Claire</td><td>62</td><td>2</td></tr></tbody></table>
<p>The facet expression, wrapped in quotes, can be useful to manipulate the inputted values before counting. For example, you could do a textual cleanup using fingerprint(): <code>(value.fingerprint()).facetCount(value.fingerprint(),&quot;Gift&quot;)</code>.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="hasfieldo-s-name">hasField(o, s name)<a href="#hasfieldo-s-name" class="hash-link" aria-label="Direct link to hasField(o, s name)" title="Direct link to hasField(o, s name)">​</a></h6>
<p>Returns a boolean indicating whether o has a member field called <a href="/docs/manual/expressions#variables">name</a>. For example, <code>cell.recon.hasField(&quot;match&quot;)</code> will return false if a reconciliation match hasn’t been selected yet, or true if it has. You cannot chain your desired fields: for example, <code>cell.hasField(&quot;recon.match&quot;)</code> will return false even if the above expression returns true).</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="coalesceo1-o2-o3-">coalesce(o1, o2, o3, ...)<a href="#coalesceo1-o2-o3-" class="hash-link" aria-label="Direct link to coalesce(o1, o2, o3, ...)" title="Direct link to coalesce(o1, o2, o3, ...)">​</a></h6>
<p>Returns the first non-null from a series of objects. For example, <code>coalesce(value, &quot;&quot;)</code> would return an empty string “” if <code>value</code> was null, but otherwise return <code>value</code>.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="crosscell-s-projectname-optional-s-columnname-optional">cross(cell, s projectName (optional), s columnName (optional))<a href="#crosscell-s-projectname-optional-s-columnname-optional" class="hash-link" aria-label="Direct link to cross(cell, s projectName (optional), s columnName (optional))" title="Direct link to cross(cell, s projectName (optional), s columnName (optional))">​</a></h6>
<p>Returns an array of zero or more rows in the project projectName for which the cells in their column columnName have the same content as the cell in your chosen column. For example, if two projects contained matching names, and you wanted to pull addresses for people by their names from a project called “People” you would apply the following expression to your column of names:</p>
<div class="codeBlockContainer_WtFl theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_pLfi"><pre tabindex="0" class="prism-code language-text codeBlock__6v4 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_Ofhx"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cell.cross(&quot;People&quot;,&quot;Name&quot;)[0].cells[&quot;Address&quot;].value</span><br></span></code></pre><div class="buttonGroup_TdkF"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_x2pO" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_M8dX"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Dndh"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This would match your current column to the “Name” column in “People” and, using those matches, pull the respective “Address” value into your current project.</p>
<p>You may need to do some data preparation with cross(), such as using trim() on your key columns or deduplicating values.</p>
<p>The first argument will be interpreted as <code>cell.value</code> if set to <code>cell</code>. If you omit projectName and columnName, they will default to the current project and index column (number 0).</p>
<p>Recipes and more examples for using cross() can be found <a href="https://github.com/OpenRefine/OpenRefine/wiki/Recipes#combining-datasets" target="_blank" rel="noopener noreferrer">on our wiki</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/OpenRefine/openrefine.github.com/edit/master/docs/manual/grelfunctions.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_AKM5" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_v_5u"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-01-12T09:55:01.000Z" itemprop="dateModified">Jan 12, 2024</time></b> by <b>Aakash Amod Rajput</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/manual/grel"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">General Refine Expression Language</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/manual/jythonclojure"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Jython &amp; Clojure</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_kigY thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#reading-this-reference" class="table-of-contents__link toc-highlight">Reading this reference</a></li><li><a href="#boolean-functions" class="table-of-contents__link toc-highlight">Boolean functions</a></li><li><a href="#string-functions" class="table-of-contents__link toc-highlight">String functions</a><ul><li><a href="#testing-string-characteristics" class="table-of-contents__link toc-highlight">Testing string characteristics</a></li><li><a href="#basic-string-modification" class="table-of-contents__link toc-highlight">Basic string modification</a></li><li><a href="#string-parsing-and-splitting" class="table-of-contents__link toc-highlight">String parsing and splitting</a></li><li><a href="#encoding-and-hashing" class="table-of-contents__link toc-highlight">Encoding and hashing</a></li><li><a href="#translating" class="table-of-contents__link toc-highlight">Translating</a></li></ul></li><li><a href="#format-based-functions-json-html-xml" class="table-of-contents__link toc-highlight">Format-based functions (JSON, HTML, XML)</a><ul><li><a href="#jsoup-xml-and-html-parsing" class="table-of-contents__link toc-highlight">Jsoup XML and HTML parsing</a></li><li><a href="#uri-parsing" class="table-of-contents__link toc-highlight">URI parsing</a></li></ul></li><li><a href="#array-functions" class="table-of-contents__link toc-highlight">Array functions</a></li><li><a href="#date-functions" class="table-of-contents__link toc-highlight">Date functions</a></li><li><a href="#math-functions" class="table-of-contents__link toc-highlight">Math functions</a></li><li><a href="#other-functions" class="table-of-contents__link toc-highlight">Other functions</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Get OpenRefine</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/download">Download</a></li><li class="footer__item"><a class="footer__link-item" href="/whats_new">What&#x27;s new</a></li><li class="footer__item"><a class="footer__link-item" href="/extensions">Extensions</a></li><li class="footer__item"><a class="footer__link-item" href="/distributions">Other distributions</a></li><li class="footer__item"><a href="https://github.com/OpenRefine/OpenRefine" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub repository<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_RpKI"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">User manual</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/technical-reference/contributing">Contributing</a></li><li class="footer__item"><a class="footer__link-item" href="/external_resources">External resources</a></li><li class="footer__item"><a class="footer__link-item" href="/funding">Grants &amp; funding</a></li><li class="footer__item"><a class="footer__link-item" href="/privacy">Privacy notice</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community">Get involved</a></li><li class="footer__item"><a href="https://forum.openrefine.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_RpKI"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitter.im/OpenRefine/OpenRefine" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitter chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_RpKI"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/openrefine" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_RpKI"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item">
                  <a rel="me" class="footer__link-item" target="_blank" href="https://fosstodon.org/@OpenRefine">Mastodon<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_node_modules-@docusaurus-theme-classic-lib-theme-Icon-ExternalLink-styles-module"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a>
                </li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://openrefine.org" rel="noopener noreferrer" class="footerLogoLink_rbIq"><img src="/img/openrefine_logo.svg" alt="OpenRefine diamond logo" class="footer__logo themedComponent_vVmS themedComponent--light_NniB" height="150"><img src="/img/openrefine_logo.svg" alt="OpenRefine diamond logo" class="footer__logo themedComponent_vVmS themedComponent--dark_yJur" height="150"></a></div><div class="footer__copyright"><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png"></a><br>OpenRefine's documentation is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</div></div></div></footer></div>
</body>
</html>