<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-manual/grel" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">General Refine Expression Language | OpenRefine</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://openrefine.org/docs/manual/grel"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="General Refine Expression Language | OpenRefine"><meta data-rh="true" name="description" content="Basics"><meta data-rh="true" property="og:description" content="Basics"><link data-rh="true" rel="icon" href="/img/openrefine_logo.svg"><link data-rh="true" rel="canonical" href="https://openrefine.org/docs/manual/grel"><link data-rh="true" rel="alternate" href="https://openrefine.org/docs/manual/grel" hreflang="en"><link data-rh="true" rel="alternate" href="https://openrefine.org/docs/manual/grel" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://RXJKLJKJU2-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="OpenRefine RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="OpenRefine Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="OpenRefine" href="/opensearch.xml">


<script src="/js/fix-location.js"></script><link rel="stylesheet" href="/assets/css/styles.a1181bf6.css">
<script src="/assets/js/runtime~main.3b2d2040.js" defer="defer"></script>
<script src="/assets/js/main.c6558953.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_hUDU" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/openrefine_logo.svg" alt="OpenRefine diamond logo" class="themedComponent_vVmS themedComponent--light_NniB"><img src="/img/openrefine_logo.svg" alt="OpenRefine diamond logo" class="themedComponent_vVmS themedComponent--dark_yJur"></div><b class="navbar__title text--truncate">OpenRefine</b></a><a class="navbar__item navbar__link" href="/download">Download</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Documentation</a><a class="navbar__item navbar__link" href="/community">Community</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/donate">Donate</a><a href="https://github.com/OpenRefine/OpenRefine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_RpKI"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_CSJf colorModeToggle_Cgdy"><button class="clean-btn toggleButton_jrrp toggleButtonDisabled_v9ww" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_hPNs"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Pxog"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_WQyT"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_tDGm"><div class="docsWrapper_kJ9P"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_hEO2" type="button"></button><div class="docRoot_q0n7"><aside class="theme-doc-sidebar-container docSidebarContainer_HBrN"><div class="sidebarViewport_rCxN"><div class="sidebar_hGra"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Uy8J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs">User Manual</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/installing">Installing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/running">Running</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/starting">Starting a project</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/manual/exploring">Exploring data</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/manual/transforming">Transforming data</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/reconciling">Reconciling</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/manual/wikibase/overview">Wikibase, Wikidata and Wikimedia Commons</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/manual/expressions">Expressions</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/expressions">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/manual/grel">General Refine Expression Language</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/grelfunctions">GREL functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/jythonclojure">Jython &amp; Clojure</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/exporting">Exporting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/manual/troubleshooting">Troubleshooting</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/technical-reference/contributing">Contributing to OpenRefine</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_msDC"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VluO"><div class="docItemContainer_z4Sv"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_WV5T" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xTv0"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">User Manual</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Expressions</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">General Refine Expression Language</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_d09M theme-doc-toc-mobile tocMobile__k1e"><button type="button" class="clean-btn tocCollapsibleButton_cV_m">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>General Refine Expression Language</h1></header><h2 class="anchor anchorWithStickyNavbar__YFU" id="basics">Basics<a href="#basics" class="hash-link" aria-label="Direct link to Basics" title="Direct link to Basics">​</a></h2>
<p>GREL (General Refine Expression Language) is designed to resemble Javascript. Formulas use variables and depend on data types to do things like string manipulation or mathematical calculations:</p>
<table><thead><tr><th>Example</th><th>Output</th></tr></thead><tbody><tr><td><code>value + &quot; (approved)&quot;</code></td><td>Concatenate two strings; whatever is in the cell gets converted to a string first</td></tr><tr><td><code>value + 2.239</code></td><td>Add 2.239 to the existing value (if a number); append text &quot;2.239&quot; to the end of the string otherwise</td></tr><tr><td><code>value.trim().length()</code>    </td><td>Trim leading and trailing whitespace of the cell value and then output the length of the result</td></tr><tr><td><code>value.substring(7, 10)</code></td><td>Output the substring of the value from character index 7, 8, and 9 (excluding character index 10)</td></tr><tr><td><code>value.substring(13)</code></td><td>Output the substring from index 13 to the end of the string</td></tr></tbody></table>
<p>Note that the operator for string concatenation is <code>+</code> (not “&amp;” as is used in Excel).</p>
<p>Evaluating conditions uses symbols such as <code>&lt;</code>, <code>&gt;</code>, <code>*</code>, <code>/</code>, etc. To check whether two objects are equal, use two equal signs (<code>value==&quot;true&quot;</code>).</p>
<p>See the <a href="/docs/manual/grelfunctions">GREL functions page for a thorough reference</a> on each function and its inputs and outputs. Read on below for more about the general nature of GREL expressions.</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="operators">Operators<a href="#operators" class="hash-link" aria-label="Direct link to Operators" title="Direct link to Operators">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="arithmetic-operators">Arithmetic Operators<a href="#arithmetic-operators" class="hash-link" aria-label="Direct link to Arithmetic Operators" title="Direct link to Arithmetic Operators">​</a></h4>
<p>Refer <a href="https://openrefine.org/docs/manual/grelfunctions#math-functions" target="_blank" rel="noopener noreferrer">GREL functions page</a> for details on Division Operator.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="modulus">Modulus<a href="#modulus" class="hash-link" aria-label="Direct link to Modulus" title="Direct link to Modulus">​</a></h6>
<p>When using the <code>%</code> operator, if both operands are numbers such as <code>1 % 2</code> the result will be a whole number. However, if either or both of the operands are floating-point numbers like <code>1.0 % 2</code> they will be promoted to floating point and the result will also be in floating-point format. It&#x27;s important to note that the <code>%</code> operator may not behave as expected with floating-point numbers due to precision issues.</p>
<h6 class="anchor anchorWithStickyNavbar__YFU" id="multiplication">Multiplication<a href="#multiplication" class="hash-link" aria-label="Direct link to Multiplication" title="Direct link to Multiplication">​</a></h6>
<p>The behavior of the <code>*</code> operator is nuanced based on the data types of the operands. When both operands are integers such as <code>1 * 2</code>, the result is an integer. Conversely, if either or both operands are floating-point numbers the result becomes a floating-point number. You can use simple evaluations such as <code>3.5 * 2</code></p>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="relational-operators">Relational Operators<a href="#relational-operators" class="hash-link" aria-label="Direct link to Relational Operators" title="Direct link to Relational Operators">​</a></h4>
<p><code>==</code> and <code>!=</code> operators are used to assess equality and inequality. For instance, <code>&quot;a&quot; == &quot;b&quot;</code> returns false and <code>&quot;a&quot; != &quot;b&quot;</code> returns true. When applied to integers, <code>5 == 5</code> returns true, while <code>3 != 3</code> returns false.</p>
<p>The <code>&lt;</code> operator checks if the left operand is less than the right operand, while <code>&lt;=</code> checks if it&#x27;s less than or equal to. Similarly <code>&gt;</code> verifies if the left operand is greater than the right and <code>&gt;=</code> checks if it&#x27;s greater than or equal to. These comparison operators apply to numbers, strings and dates.</p>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h4>
<ul>
<li><a href="https://openrefine.org/docs/manual/grel#basic" target="_blank" rel="noopener noreferrer">String Concatenation</a></li>
<li><a href="https://openrefine.org/docs/manual/grelfunctions#boolean-functions" target="_blank" rel="noopener noreferrer">Logical Functions</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="syntax">Syntax<a href="#syntax" class="hash-link" aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h2>
<p>In GREL, functions can use either of these two forms:</p>
<ul>
<li>functionName(arg0, arg1, ...)</li>
<li>arg0.functionName(arg1, ...)</li>
</ul>
<p>The second form is a shorthand to make expressions easier to read. It simply pulls the first argument out and appends it to the front of the function, with a dot:</p>
<table><thead><tr><th>Dot notation</th><th>Full notation</th></tr></thead><tbody><tr><td><code>value.trim().length()</code></td><td><code>length(trim(value))</code></td></tr><tr><td><code>value.substring(7, 10)</code></td><td><code>substring(value, 7, 10)</code></td></tr></tbody></table>
<p>So, in the dot shorthand, the functions occur from left to right in the order of calling, rather than in the reverse order with parentheses. This allows you to string together multiple functions in a readable order.</p>
<p>The dot notation can also be used to access the member fields of <a href="/docs/manual/expressions#variables">variables</a>. For referring to column names that contain spaces (anything not a continuous string), use square brackets instead of dot notation:</p>
<table><thead><tr><th>Example</th><th>Description</th></tr></thead><tbody><tr><td><code>FirstName.cells</code></td><td>Access the cell in the column named “FirstName” of the current row</td></tr><tr><td><code>cells[&quot;First Name&quot;]</code></td><td>Access the cell in the column called “First Name” of the current row</td></tr></tbody></table>
<p>Square brackets can also be used to get substrings and sub-arrays, and single items from arrays:</p>
<table><thead><tr><th>Example</th><th>Description</th></tr></thead><tbody><tr><td><code>value[1,3]</code></td><td>A substring of value, starting from character 1 up to but excluding character 3</td></tr><tr><td><code>&quot;internationalization&quot;[1,-2]</code></td><td>Will return “nternationalizati” (negative indexes are counted from the end)</td></tr><tr><td><code>row.columnNames[5]</code></td><td>Will return the name of the fifth column</td></tr></tbody></table>
<p>Any function that outputs an array can use square brackets to select only one part of the array to output as a string (remember that the index of the items in an array starts with 0).</p>
<p>For example, <a href="/docs/manual/grelfunctions#partitions-s-or-p-fragment-b-omitfragment-optional">partition()</a> would normally output an array of three items: the part before your chosen fragment, the fragment you&#x27;ve identified, and the part after. Selecting only the third part with <code>&quot;internationalization&quot;.partition(&quot;nation&quot;)[2]</code> will output “alization” (and so will [-1], indicating the final item in the array).</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="controls">Controls<a href="#controls" class="hash-link" aria-label="Direct link to Controls" title="Direct link to Controls">​</a></h2>
<p>GREL offers controls to support branching and looping (that is, “if” and “for” functions), but unlike functions, their arguments don&#x27;t all get evaluated before they get run. A control can decide which part of the code to execute and can affect the environment bindings. Functions, on the other hand, can&#x27;t do either. Each control decides which of their arguments to evaluate to <code>value</code>, and how.</p>
<p>Please note that the GREL control names are case-sensitive: for example, the isError() control can&#x27;t be called with iserror().</p>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="ife-etrue-efalse">if(e, eTrue, eFalse)<a href="#ife-etrue-efalse" class="hash-link" aria-label="Direct link to if(e, eTrue, eFalse)" title="Direct link to if(e, eTrue, eFalse)">​</a></h4>
<p>Expression e is evaluated to a value. If that value is true, then expression eTrue is evaluated and the result is the value of the whole if() expression. Otherwise, expression eFalse is evaluated and that result is the value.</p>
<p>Examples:</p>
<table><thead><tr><th>Example expression</th><th>Result</th></tr></thead><tbody><tr><td><code>if(&quot;internationalization&quot;.length() &gt; 10, &quot;big string&quot;, &quot;small string&quot;)</code></td><td>“big string”</td></tr><tr><td><code>if(mod(37, 2) == 0, &quot;even&quot;, &quot;odd&quot;)</code></td><td>“odd”</td></tr></tbody></table>
<p>Nested if (switch case) example:</p>
<p>if(value == &#x27;Place&#x27;, &#x27;<a href="http://www.example.com/Location" target="_blank" rel="noopener noreferrer">http://www.example.com/Location</a>&#x27;,</p>
<p>if(value == &#x27;Person&#x27;, &#x27;<a href="http://www.example.com/Agent" target="_blank" rel="noopener noreferrer">http://www.example.com/Agent</a>&#x27;,</p>
<p>if(value == &#x27;Book&#x27;, &#x27;<a href="http://www.example.com/Publication" target="_blank" rel="noopener noreferrer">http://www.example.com/Publication</a>&#x27;,</p>
<p>null)))</p>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="withe1-variable-v-e2">with(e1, variable v, e2)<a href="#withe1-variable-v-e2" class="hash-link" aria-label="Direct link to with(e1, variable v, e2)" title="Direct link to with(e1, variable v, e2)">​</a></h4>
<p>Evaluates expression e1 and binds its value to variable v. Then evaluates expression e2 and returns that result.</p>
<table><thead><tr><th>Example expression</th><th>Result</th></tr></thead><tbody><tr><td><code>with(&quot;european union&quot;.split(&quot; &quot;), a, a.length())</code></td><td>2</td></tr><tr><td><code>with(&quot;european union&quot;.split(&quot; &quot;), a, forEach(a, v, v.length()))</code></td><td>[ 8, 5 ]</td></tr><tr><td><code>with(&quot;european union&quot;.split(&quot; &quot;), a, forEach(a, v, v.length()).sum() / a.length())</code></td><td>6.5</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="filtere1-v-e-test">filter(e1, v, e test)<a href="#filtere1-v-e-test" class="hash-link" aria-label="Direct link to filter(e1, v, e test)" title="Direct link to filter(e1, v, e test)">​</a></h4>
<p>Evaluates expression e1 to an array. Then for each array element, binds its value to variable v, evaluates expression test - which should return a boolean. If the boolean is true, pushes v onto the result array.</p>
<table><thead><tr><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td><code>filter([ 3, 4, 8, 7, 9 ], v, mod(v, 2) == 1)</code></td><td>[ 3, 7, 9 ]</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="foreache1-v-e2">forEach(e1, v, e2)<a href="#foreache1-v-e2" class="hash-link" aria-label="Direct link to forEach(e1, v, e2)" title="Direct link to forEach(e1, v, e2)">​</a></h4>
<p>Evaluates expression e1 to an array. Then for each array element, binds its value to variable v, evaluates expression e2, and pushes the result onto the result array. When e1 is a JSON object, <code>forEach</code> iterates over its keys.</p>
<table><thead><tr><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td><code>forEach([ 3, 4, 8, 7, 9 ], v, mod(v, 2))</code></td><td>[ 1, 0, 0, 1, 1 ]</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="foreachindexe1-i-v-e2">forEachIndex(e1, i, v, e2)<a href="#foreachindexe1-i-v-e2" class="hash-link" aria-label="Direct link to forEachIndex(e1, i, v, e2)" title="Direct link to forEachIndex(e1, i, v, e2)">​</a></h4>
<p>Evaluates expression e1 to an array. Then for each array element, binds its index to variable i and its value to variable v, evaluates expression e2, and pushes the result onto the result array.</p>
<table><thead><tr><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td><code>forEachIndex([ &quot;anne&quot;, &quot;ben&quot;, &quot;cindy&quot; ], i, v, (i + 1) + &quot;. &quot; + v).join(&quot;, &quot;)</code></td><td>1. anne, 2. ben, 3. cindy</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="forrangen-from-n-to-n-step-v-e">forRange(n from, n to, n step, v, e)<a href="#forrangen-from-n-to-n-step-v-e" class="hash-link" aria-label="Direct link to forRange(n from, n to, n step, v, e)" title="Direct link to forRange(n from, n to, n step, v, e)">​</a></h4>
<p>Iterates over the variable v starting at from, incrementing by the value of step each time while less than to. At each iteration, evaluates expression e, and pushes the result onto the result array.</p>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="fornonblanke-v-enonblank-eblank">forNonBlank(e, v, eNonBlank, eBlank)<a href="#fornonblanke-v-enonblank-eblank" class="hash-link" aria-label="Direct link to forNonBlank(e, v, eNonBlank, eBlank)" title="Direct link to forNonBlank(e, v, eNonBlank, eBlank)">​</a></h4>
<p>Evaluates expression e. If it is non-blank, forNonBlank() binds its value to variable v, evaluates expression eNonBlank and returns the result. Otherwise (if e evaluates to blank), forNonBlank() evaluates expression eBlank and returns that result instead.</p>
<p>Unlike other GREL functions beginning with “for,” forNonBlank() is not iterative. forNonBlank() essentially offers a shorter syntax to achieving the same outcome by using the isNonBlank() function within an “if” statement.</p>
<h4 class="anchor anchorWithStickyNavbar__YFU" id="isblanke-isnonblanke-isnulle-isnotnulle-isnumerice-iserrore">isBlank(e), isNonBlank(e), isNull(e), isNotNull(e), isNumeric(e), isError(e)<a href="#isblanke-isnonblanke-isnulle-isnotnulle-isnumerice-iserrore" class="hash-link" aria-label="Direct link to isBlank(e), isNonBlank(e), isNull(e), isNotNull(e), isNumeric(e), isError(e)" title="Direct link to isBlank(e), isNonBlank(e), isNull(e), isNotNull(e), isNumeric(e), isError(e)">​</a></h4>
<p>Evaluates the expression e, and returns a boolean based on the named evaluation.</p>
<p>Examples:</p>
<table><thead><tr><th>Expression</th><th>Result</th></tr></thead><tbody><tr><td><code>isBlank(&quot;abc&quot;)</code></td><td>false</td></tr><tr><td><code>isNonBlank(&quot;abc&quot;)</code></td><td>true</td></tr><tr><td><code>isNull(&quot;abc&quot;)</code></td><td>false</td></tr><tr><td><code>isNotNull(&quot;abc&quot;)</code></td><td>true</td></tr><tr><td><code>isNumeric(2)</code></td><td>true</td></tr><tr><td><code>isError(1)</code></td><td>false</td></tr><tr><td><code>isError(&quot;abc&quot;)</code></td><td>false</td></tr><tr><td><code>isError(1 / 0)</code></td><td>true</td></tr></tbody></table>
<p>Remember that these are controls and not functions: you can’t use dot notation (for example, the format <code>e.isX()</code> will not work).</p>
<h2 class="anchor anchorWithStickyNavbar__YFU" id="constants">Constants<a href="#constants" class="hash-link" aria-label="Direct link to Constants" title="Direct link to Constants">​</a></h2>
<table><thead><tr><th>Name</th><th>Meaning</th></tr></thead><tbody><tr><td>true</td><td>The boolean constant true</td></tr><tr><td>false</td><td>The boolean constant false</td></tr><tr><td>PI</td><td>From <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#PI" target="_blank" rel="noopener noreferrer">Java&#x27;s Math.PI</a>, the value of pi (that is, 3.1415...)</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/OpenRefine/openrefine.github.com/edit/master/docs/manual/grel.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_AKM5" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_v_5u"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-02-12T13:47:57.000Z" itemprop="dateModified">Feb 12, 2024</time></b> by <b>Aayush</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/manual/expressions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/manual/grelfunctions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">GREL functions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_kigY thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#basics" class="table-of-contents__link toc-highlight">Basics</a></li><li><a href="#operators" class="table-of-contents__link toc-highlight">Operators</a></li><li><a href="#syntax" class="table-of-contents__link toc-highlight">Syntax</a></li><li><a href="#controls" class="table-of-contents__link toc-highlight">Controls</a></li><li><a href="#constants" class="table-of-contents__link toc-highlight">Constants</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Get OpenRefine</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/download">Download</a></li><li class="footer__item"><a class="footer__link-item" href="/whats_new">What&#x27;s new</a></li><li class="footer__item"><a class="footer__link-item" href="/extensions">Extensions</a></li><li class="footer__item"><a class="footer__link-item" href="/distributions">Other distributions</a></li><li class="footer__item"><a href="https://github.com/OpenRefine/OpenRefine" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub repository<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_RpKI"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">User manual</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/technical-reference/contributing">Contributing</a></li><li class="footer__item"><a class="footer__link-item" href="/external_resources">External resources</a></li><li class="footer__item"><a class="footer__link-item" href="/funding">Grants &amp; funding</a></li><li class="footer__item"><a class="footer__link-item" href="/privacy">Privacy notice</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community">Get involved</a></li><li class="footer__item"><a href="https://forum.openrefine.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_RpKI"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitter.im/OpenRefine/OpenRefine" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitter chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_RpKI"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/openrefine" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_RpKI"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item">
                  <a rel="me" class="footer__link-item" target="_blank" href="https://fosstodon.org/@OpenRefine">Mastodon<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_node_modules-@docusaurus-theme-classic-lib-theme-Icon-ExternalLink-styles-module"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a>
                </li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://openrefine.org" rel="noopener noreferrer" class="footerLogoLink_rbIq"><img src="/img/openrefine_logo.svg" alt="OpenRefine diamond logo" class="footer__logo themedComponent_vVmS themedComponent--light_NniB" height="150"><img src="/img/openrefine_logo.svg" alt="OpenRefine diamond logo" class="footer__logo themedComponent_vVmS themedComponent--dark_yJur" height="150"></a></div><div class="footer__copyright"><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png"></a><br>OpenRefine's documentation is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</div></div></div></footer></div>
</body>
</html>